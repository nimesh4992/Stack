{"dependencies":[{"name":"react-native-web/dist/exports/NativeEventEmitter","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"eTF52IbKshB2LvkGjXImGpuTZc0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/NativeModules","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MRft9soElPgDBIQyAww27iefYeU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.startReadSMS = startReadSMS;\n  Object.defineProperty(exports, \"checkIfHasSMSPermission\", {\n    enumerable: true,\n    get: function () {\n      return checkIfHasSMSPermission;\n    }\n  });\n  exports.requestReadSMSPermission = requestReadSMSPermission;\n  exports.stopReadSMS = stopReadSMS;\n  var _reactNativeWebDistExportsNativeEventEmitter = require(_dependencyMap[0], \"react-native-web/dist/exports/NativeEventEmitter\");\n  var NativeEventEmitter = _interopDefault(_reactNativeWebDistExportsNativeEventEmitter);\n  var _reactNativeWebDistExportsNativeModules = require(_dependencyMap[1], \"react-native-web/dist/exports/NativeModules\");\n  var NativeModules = _interopDefault(_reactNativeWebDistExportsNativeModules);\n  var _reactNativeWebDistIndex = require(_dependencyMap[2], \"react-native-web/dist/index\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const {\n    RNExpoReadSms\n  } = NativeModules.default;\n  var _default = RNExpoReadSms;\n  async function startReadSMS(callback) {\n    let resultFun = (status, sms, error) => {\n      if (callback) {\n        callback(status, sms, error);\n      }\n    };\n    if (Platform.default.OS === \"android\") {\n      const hasPermission = await checkIfHasSMSPermission();\n      if (hasPermission) {\n        RNExpoReadSms.startReadSMS(result => {\n          new NativeEventEmitter.default(RNExpoReadSms).addListener(\"received_sms\", sms => {\n            resultFun(\"success\", sms);\n          });\n        }, error => {\n          resultFun(\"error\", \"\", error);\n        });\n      } else {\n        resultFun(\"error\", \"\", \"Required RECEIVE_SMS and READ_SMS permission\");\n      }\n    } else {\n      resultFun(\"error\", \"\", \"ReadSms Plugin is only for android platform\");\n    }\n  }\n\n  /**\n   * Checks if the application has the necessary SMS permissions on Android.\n   *\n   * This function checks for the RECEIVE_SMS and READ_SMS permissions on Android devices.\n   * If the Android version is below 23, it assumes that the permissions are granted.\n   * Otherwise, it explicitly checks for the permissions using PermissionsAndroid.\n   *\n   * @returns {Promise<{ hasReceiveSmsPermission: boolean, hasReadSmsPermission: boolean }>} \n   * An object containing the status of RECEIVE_SMS and READ_SMS permissions.\n   * - hasReceiveSmsPermission: boolean - Indicates if the RECEIVE_SMS permission is granted.\n   * - hasReadSmsPermission: boolean - Indicates if the READ_SMS permission is granted.\n   *\n   * @example\n   * const permissions = await checkIfHasSMSPermission();\n   * console.log(permissions.hasReceiveSmsPermission); // true or false\n   * console.log(permissions.hasReadSmsPermission); // true or false\n   */\n  const checkIfHasSMSPermission = async () => {\n    if (Platform.default.OS === \"android\" && Platform.default.Version < 23) {\n      return {\n        hasReceiveSmsPermission: true,\n        hasReadSmsPermission: true\n      };\n    }\n    try {\n      const [hasReceiveSmsPermission, hasReadSmsPermission] = await Promise.all([_reactNativeWebDistIndex.PermissionsAndroid.check(_reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.RECEIVE_SMS), _reactNativeWebDistIndex.PermissionsAndroid.check(_reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.READ_SMS)]);\n      return {\n        hasReceiveSmsPermission,\n        hasReadSmsPermission\n      };\n    } catch (error) {\n      console.warn(\"Something went wrong when checking permission\", error);\n      return {\n        hasReceiveSmsPermission: false,\n        hasReadSmsPermission: false\n      };\n    }\n  };\n\n  /**\n   * Requests the necessary SMS permissions on Android.\n   *\n   * This function checks if the application already has the RECEIVE_SMS and READ_SMS permissions.\n   * If not, it requests these permissions from the user. It handles different permission statuses\n   * and logs appropriate messages based on the user's response.\n   * There are three possible permission granted by Android: granted, denied and never_ask_again\n   *\n   * @returns {Promise<boolean>} \n   * A promise that resolves to a boolean indicating whether the permissions were granted.\n   * - true: Permissions were granted.\n   * - false: Permissions were denied or an error occurred.\n   *\n   * @example\n   * const hasPermission = await requestReadSMSPermission();\n   * if (hasPermission) {\n   *   console.log(\"SMS permissions granted\");\n   * } else {\n   *   console.log(\"SMS permissions denied\");\n   * }\n   */\n  async function requestReadSMSPermission() {\n    if (Platform.default.OS === \"android\") {\n      try {\n        const hasPermission = await checkIfHasSMSPermission();\n        if (hasPermission.hasReadSmsPermission && hasPermission.hasReceiveSmsPermission) {\n          return true;\n        }\n        const status = await _reactNativeWebDistIndex.PermissionsAndroid.requestMultiple([_reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.RECEIVE_SMS, _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.READ_SMS]);\n        if (status === _reactNativeWebDistIndex.PermissionsAndroid.RESULTS.GRANTED) return true;\n        if (status === _reactNativeWebDistIndex.PermissionsAndroid.RESULTS.DENIED) {\n          console.log(\"Read Sms permission denied by user.\", status);\n        } else if (status === _reactNativeWebDistIndex.PermissionsAndroid.RESULTS.NEVER_ASK_AGAIN) {\n          console.log(\"Read Sms permission revoked by user.\", status);\n        }\n        return false;\n      } catch (error) {\n        console.error(\"Error requesting SMS permissions\", error);\n        return false;\n      }\n    }\n    return true;\n  }\n  function stopReadSMS() {\n    if (Platform.default.OS === \"android\") {\n      RNExpoReadSms.stopReadSMS();\n    }\n  }\n});","lineCount":149,"map":[[12,2,10,0,"Object"],[12,8,10,0],[12,9,10,0,"defineProperty"],[12,23,10,0],[12,24,10,0,"exports"],[12,31,10,0],[13,4,10,0,"enumerable"],[13,14,10,0],[14,4,10,0,"get"],[14,7,10,0],[14,18,10,0,"get"],[14,19,10,0],[15,6,10,0],[15,13,10,0,"_default"],[15,21,10,0],[16,4,10,0],[17,2,10,0],[18,2,12,0,"exports"],[18,9,12,0],[18,10,12,0,"startReadSMS"],[18,22,12,0],[18,25,12,0,"startReadSMS"],[18,37,12,0],[19,2,59,0,"Object"],[19,8,59,0],[19,9,59,0,"defineProperty"],[19,23,59,0],[19,24,59,0,"exports"],[19,31,59,0],[20,4,59,0,"enumerable"],[20,14,59,0],[21,4,59,0,"get"],[21,7,59,0],[21,18,59,0,"get"],[21,19,59,0],[22,6,59,0],[22,13,59,0,"checkIfHasSMSPermission"],[22,36,59,0],[23,4,59,0],[24,2,59,0],[25,2,107,0,"exports"],[25,9,107,0],[25,10,107,0,"requestReadSMSPermission"],[25,34,107,0],[25,37,107,0,"requestReadSMSPermission"],[25,61,107,0],[26,2,136,0,"exports"],[26,9,136,0],[26,10,136,0,"stopReadSMS"],[26,21,136,0],[26,24,136,0,"stopReadSMS"],[26,35,136,0],[27,2,140,1],[27,6,140,1,"_reactNativeWebDistExportsNativeEventEmitter"],[27,50,140,1],[27,53,140,1,"require"],[27,60,140,1],[27,61,140,1,"_dependencyMap"],[27,75,140,1],[28,2,140,1],[28,6,140,1,"NativeEventEmitter"],[28,24,140,1],[28,27,140,1,"_interopDefault"],[28,42,140,1],[28,43,140,1,"_reactNativeWebDistExportsNativeEventEmitter"],[28,87,140,1],[29,2,140,1],[29,6,140,1,"_reactNativeWebDistExportsNativeModules"],[29,45,140,1],[29,48,140,1,"require"],[29,55,140,1],[29,56,140,1,"_dependencyMap"],[29,70,140,1],[30,2,140,1],[30,6,140,1,"NativeModules"],[30,19,140,1],[30,22,140,1,"_interopDefault"],[30,37,140,1],[30,38,140,1,"_reactNativeWebDistExportsNativeModules"],[30,77,140,1],[31,2,140,1],[31,6,140,1,"_reactNativeWebDistIndex"],[31,30,140,1],[31,33,140,1,"require"],[31,40,140,1],[31,41,140,1,"_dependencyMap"],[31,55,140,1],[32,2,140,1],[32,6,140,1,"_reactNativeWebDistExportsPlatform"],[32,40,140,1],[32,43,140,1,"require"],[32,50,140,1],[32,51,140,1,"_dependencyMap"],[32,65,140,1],[33,2,140,1],[33,6,140,1,"Platform"],[33,14,140,1],[33,17,140,1,"_interopDefault"],[33,32,140,1],[33,33,140,1,"_reactNativeWebDistExportsPlatform"],[33,67,140,1],[34,2,8,0],[34,8,8,6],[35,4,8,8,"RNExpoReadSms"],[36,2,8,22],[36,3,8,23],[36,6,8,26,"NativeModules"],[36,19,8,39],[36,20,8,39,"default"],[36,27,8,39],[37,2,10,0],[37,6,10,0,"_default"],[37,14,10,0],[37,17,10,15,"RNExpoReadSms"],[37,30,10,28],[38,2,12,7],[38,17,12,22,"startReadSMS"],[38,29,12,34,"startReadSMS"],[38,30,12,35,"callback"],[38,38,12,43],[38,40,12,45],[39,4,13,2],[39,8,13,6,"resultFun"],[39,17,13,15],[39,20,13,18,"resultFun"],[39,21,13,19,"status"],[39,27,13,25],[39,29,13,27,"sms"],[39,32,13,30],[39,34,13,32,"error"],[39,39,13,37],[39,44,13,42],[40,6,14,4],[40,10,14,8,"callback"],[40,18,14,16],[40,20,14,18],[41,8,15,6,"callback"],[41,16,15,14],[41,17,15,15,"status"],[41,23,15,21],[41,25,15,23,"sms"],[41,28,15,26],[41,30,15,28,"error"],[41,35,15,33],[41,36,15,34],[42,6,16,4],[43,4,17,2],[43,5,17,3],[44,4,18,2],[44,8,18,6,"Platform"],[44,16,18,14],[44,17,18,14,"default"],[44,24,18,14],[44,25,18,15,"OS"],[44,27,18,17],[44,32,18,22],[44,41,18,31],[44,43,18,33],[45,6,19,4],[45,12,19,10,"hasPermission"],[45,25,19,23],[45,28,19,26],[45,34,19,32,"checkIfHasSMSPermission"],[45,57,19,55],[45,58,19,56],[45,59,19,57],[46,6,20,4],[46,10,20,8,"hasPermission"],[46,23,20,21],[46,25,20,23],[47,8,21,6,"RNExpoReadSms"],[47,21,21,19],[47,22,21,20,"startReadSMS"],[47,34,21,32],[47,35,22,9,"result"],[47,41,22,15],[47,45,22,20],[48,10,23,10],[48,14,23,14,"NativeEventEmitter"],[48,32,23,32],[48,33,23,32,"default"],[48,40,23,32],[48,41,23,33,"RNExpoReadSms"],[48,54,23,46],[48,55,23,47],[48,56,23,48,"addListener"],[48,67,23,59],[48,68,24,12],[48,82,24,26],[48,84,25,13,"sms"],[48,87,25,16],[48,91,25,21],[49,12,26,14,"resultFun"],[49,21,26,23],[49,22,26,24],[49,31,26,33],[49,33,26,35,"sms"],[49,36,26,38],[49,37,26,39],[50,10,27,12],[50,11,28,10],[50,12,28,11],[51,8,29,8],[51,9,29,9],[51,11,30,9,"error"],[51,16,30,14],[51,20,30,19],[52,10,31,10,"resultFun"],[52,19,31,19],[52,20,31,20],[52,27,31,27],[52,29,31,29],[52,31,31,31],[52,33,31,33,"error"],[52,38,31,38],[52,39,31,39],[53,8,32,8],[53,9,33,6],[53,10,33,7],[54,6,34,4],[54,7,34,5],[54,13,34,11],[55,8,35,6,"resultFun"],[55,17,35,15],[55,18,35,16],[55,25,35,23],[55,27,35,25],[55,29,35,27],[55,31,35,29],[55,77,35,75],[55,78,35,76],[56,6,36,4],[57,4,37,2],[57,5,37,3],[57,11,37,9],[58,6,38,4,"resultFun"],[58,15,38,13],[58,16,38,14],[58,23,38,21],[58,25,38,23],[58,27,38,25],[58,29,38,27],[58,74,38,72],[58,75,38,73],[59,4,39,2],[60,2,40,0],[62,2,42,0],[63,0,43,0],[64,0,44,0],[65,0,45,0],[66,0,46,0],[67,0,47,0],[68,0,48,0],[69,0,49,0],[70,0,50,0],[71,0,51,0],[72,0,52,0],[73,0,53,0],[74,0,54,0],[75,0,55,0],[76,0,56,0],[77,0,57,0],[78,0,58,0],[79,2,59,7],[79,8,59,13,"checkIfHasSMSPermission"],[79,31,59,36],[79,34,59,39],[79,40,59,39,"checkIfHasSMSPermission"],[79,41,59,39],[79,46,59,51],[80,4,60,2],[80,8,60,6,"Platform"],[80,16,60,14],[80,17,60,14,"default"],[80,24,60,14],[80,25,60,15,"OS"],[80,27,60,17],[80,32,60,22],[80,41,60,31],[80,45,60,35,"Platform"],[80,53,60,43],[80,54,60,43,"default"],[80,61,60,43],[80,62,60,44,"Version"],[80,69,60,51],[80,72,60,54],[80,74,60,56],[80,76,60,58],[81,6,61,4],[81,13,61,11],[82,8,62,6,"hasReceiveSmsPermission"],[82,31,62,29],[82,33,62,31],[82,37,62,35],[83,8,63,6,"hasReadSmsPermission"],[83,28,63,26],[83,30,63,28],[84,6,64,4],[84,7,64,5],[85,4,65,2],[86,4,67,2],[86,8,67,6],[87,6,68,4],[87,12,68,10],[87,13,68,11,"hasReceiveSmsPermission"],[87,36,68,34],[87,38,68,36,"hasReadSmsPermission"],[87,58,68,56],[87,59,68,57],[87,62,68,60],[87,68,68,66,"Promise"],[87,75,68,73],[87,76,68,74,"all"],[87,79,68,77],[87,80,68,78],[87,81,69,6,"PermissionsAndroid"],[87,105,69,24],[87,106,69,24,"PermissionsAndroid"],[87,124,69,24],[87,125,69,25,"check"],[87,130,69,30],[87,131,69,31,"PermissionsAndroid"],[87,155,69,49],[87,156,69,49,"PermissionsAndroid"],[87,174,69,49],[87,175,69,50,"PERMISSIONS"],[87,186,69,61],[87,187,69,62,"RECEIVE_SMS"],[87,198,69,73],[87,199,69,74],[87,201,70,6,"PermissionsAndroid"],[87,225,70,24],[87,226,70,24,"PermissionsAndroid"],[87,244,70,24],[87,245,70,25,"check"],[87,250,70,30],[87,251,70,31,"PermissionsAndroid"],[87,275,70,49],[87,276,70,49,"PermissionsAndroid"],[87,294,70,49],[87,295,70,50,"PERMISSIONS"],[87,306,70,61],[87,307,70,62,"READ_SMS"],[87,315,70,70],[87,316,70,71],[87,317,71,5],[87,318,71,6],[88,6,73,4],[88,13,73,11],[89,8,74,6,"hasReceiveSmsPermission"],[89,31,74,29],[90,8,75,6,"hasReadSmsPermission"],[91,6,76,4],[91,7,76,5],[92,4,77,2],[92,5,77,3],[92,6,77,4],[92,13,77,11,"error"],[92,18,77,16],[92,20,77,18],[93,6,78,4,"console"],[93,13,78,11],[93,14,78,12,"warn"],[93,18,78,16],[93,19,78,17],[93,66,78,64],[93,68,78,66,"error"],[93,73,78,71],[93,74,78,72],[94,6,79,4],[94,13,79,11],[95,8,80,6,"hasReceiveSmsPermission"],[95,31,80,29],[95,33,80,31],[95,38,80,36],[96,8,81,6,"hasReadSmsPermission"],[96,28,81,26],[96,30,81,28],[97,6,82,4],[97,7,82,5],[98,4,83,2],[99,2,84,0],[99,3,84,1],[101,2,86,0],[102,0,87,0],[103,0,88,0],[104,0,89,0],[105,0,90,0],[106,0,91,0],[107,0,92,0],[108,0,93,0],[109,0,94,0],[110,0,95,0],[111,0,96,0],[112,0,97,0],[113,0,98,0],[114,0,99,0],[115,0,100,0],[116,0,101,0],[117,0,102,0],[118,0,103,0],[119,0,104,0],[120,0,105,0],[121,0,106,0],[122,2,107,7],[122,17,107,22,"requestReadSMSPermission"],[122,41,107,46,"requestReadSMSPermission"],[122,42,107,46],[122,44,107,49],[123,4,108,2],[123,8,108,6,"Platform"],[123,16,108,14],[123,17,108,14,"default"],[123,24,108,14],[123,25,108,15,"OS"],[123,27,108,17],[123,32,108,22],[123,41,108,31],[123,43,108,33],[124,6,109,4],[124,10,109,8],[125,8,110,6],[125,14,110,12,"hasPermission"],[125,27,110,25],[125,30,110,28],[125,36,110,34,"checkIfHasSMSPermission"],[125,59,110,57],[125,60,110,58],[125,61,110,59],[126,8,111,6],[126,12,111,10,"hasPermission"],[126,25,111,23],[126,26,111,24,"hasReadSmsPermission"],[126,46,111,44],[126,50,111,48,"hasPermission"],[126,63,111,61],[126,64,111,62,"hasReceiveSmsPermission"],[126,87,111,85],[126,89,111,87],[127,10,112,8],[127,17,112,15],[127,21,112,19],[128,8,113,6],[129,8,115,6],[129,14,115,12,"status"],[129,20,115,18],[129,23,115,21],[129,29,115,27,"PermissionsAndroid"],[129,53,115,45],[129,54,115,45,"PermissionsAndroid"],[129,72,115,45],[129,73,115,46,"requestMultiple"],[129,88,115,61],[129,89,115,62],[129,90,116,8,"PermissionsAndroid"],[129,114,116,26],[129,115,116,26,"PermissionsAndroid"],[129,133,116,26],[129,134,116,27,"PERMISSIONS"],[129,145,116,38],[129,146,116,39,"RECEIVE_SMS"],[129,157,116,50],[129,159,117,8,"PermissionsAndroid"],[129,183,117,26],[129,184,117,26,"PermissionsAndroid"],[129,202,117,26],[129,203,117,27,"PERMISSIONS"],[129,214,117,38],[129,215,117,39,"READ_SMS"],[129,223,117,47],[129,224,118,7],[129,225,118,8],[130,8,120,6],[130,12,120,10,"status"],[130,18,120,16],[130,23,120,21,"PermissionsAndroid"],[130,47,120,39],[130,48,120,39,"PermissionsAndroid"],[130,66,120,39],[130,67,120,40,"RESULTS"],[130,74,120,47],[130,75,120,48,"GRANTED"],[130,82,120,55],[130,84,120,57],[130,91,120,64],[130,95,120,68],[131,8,121,6],[131,12,121,10,"status"],[131,18,121,16],[131,23,121,21,"PermissionsAndroid"],[131,47,121,39],[131,48,121,39,"PermissionsAndroid"],[131,66,121,39],[131,67,121,40,"RESULTS"],[131,74,121,47],[131,75,121,48,"DENIED"],[131,81,121,54],[131,83,121,56],[132,10,122,8,"console"],[132,17,122,15],[132,18,122,16,"log"],[132,21,122,19],[132,22,122,20],[132,59,122,57],[132,61,122,59,"status"],[132,67,122,65],[132,68,122,66],[133,8,123,6],[133,9,123,7],[133,15,123,13],[133,19,123,17,"status"],[133,25,123,23],[133,30,123,28,"PermissionsAndroid"],[133,54,123,46],[133,55,123,46,"PermissionsAndroid"],[133,73,123,46],[133,74,123,47,"RESULTS"],[133,81,123,54],[133,82,123,55,"NEVER_ASK_AGAIN"],[133,97,123,70],[133,99,123,72],[134,10,124,8,"console"],[134,17,124,15],[134,18,124,16,"log"],[134,21,124,19],[134,22,124,20],[134,60,124,58],[134,62,124,60,"status"],[134,68,124,66],[134,69,124,67],[135,8,125,6],[136,8,127,6],[136,15,127,13],[136,20,127,18],[137,6,128,4],[137,7,128,5],[137,8,128,6],[137,15,128,13,"error"],[137,20,128,18],[137,22,128,20],[138,8,129,6,"console"],[138,15,129,13],[138,16,129,14,"error"],[138,21,129,19],[138,22,129,20],[138,56,129,54],[138,58,129,56,"error"],[138,63,129,61],[138,64,129,62],[139,8,130,6],[139,15,130,13],[139,20,130,18],[140,6,131,4],[141,4,132,2],[142,4,133,2],[142,11,133,9],[142,15,133,13],[143,2,134,0],[144,2,136,7],[144,11,136,16,"stopReadSMS"],[144,22,136,27,"stopReadSMS"],[144,23,136,27],[144,25,136,30],[145,4,137,2],[145,8,137,6,"Platform"],[145,16,137,14],[145,17,137,14,"default"],[145,24,137,14],[145,25,137,15,"OS"],[145,27,137,17],[145,32,137,22],[145,41,137,31],[145,43,137,33],[146,6,138,4,"RNExpoReadSms"],[146,19,138,17],[146,20,138,18,"stopReadSMS"],[146,31,138,29],[146,32,138,30],[146,33,138,31],[147,4,139,2],[148,2,140,0],[149,0,140,1],[149,3]],"functionMap":{"names":["<global>","startReadSMS","resultFun","RNExpoReadSms.startReadSMS$argument_0","NativeEventEmitter.addListener$argument_1","RNExpoReadSms.startReadSMS$argument_1","checkIfHasSMSPermission","requestReadSMSPermission","stopReadSMS"],"mappings":"AAA;OCW;kBCC;GDI;QEK;YCG;aDE;SFE;QIC;SJE;CDQ;uCMmB;CNyB;OOuB;CP2B;OQE;CRI"},"hasCjsExports":false},"type":"js/module"}]}