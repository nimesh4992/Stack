{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":80,"index":115}}],"key":"54oW2xbJyHE290wIe7uf9enEy7w=","exportNames":["*"],"imports":1}},{"name":"../../core/data/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":170},"end":{"line":4,"column":57,"index":227}}],"key":"LKbs5eRhj6tjbfzVwNzjGvjnujc=","exportNames":["*"],"imports":1}},{"name":"../../core/common/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":228},"end":{"line":5,"column":53,"index":281}}],"key":"/2smbr+GDMmCuGIULHqprsQtHd8=","exportNames":["*"],"imports":1}},{"name":"date-fns","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":282},"end":{"line":6,"column":48,"index":330}}],"key":"ebLIABIqb+DSfRpTozlXmEt3BvY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"loadTransactions\", {\n    enumerable: true,\n    get: function () {\n      return loadTransactions;\n    }\n  });\n  Object.defineProperty(exports, \"addTransaction\", {\n    enumerable: true,\n    get: function () {\n      return addTransaction;\n    }\n  });\n  Object.defineProperty(exports, \"deleteTransaction\", {\n    enumerable: true,\n    get: function () {\n      return deleteTransaction;\n    }\n  });\n  Object.defineProperty(exports, \"setFilter\", {\n    enumerable: true,\n    get: function () {\n      return setFilter;\n    }\n  });\n  Object.defineProperty(exports, \"selectTodayTransactions\", {\n    enumerable: true,\n    get: function () {\n      return selectTodayTransactions;\n    }\n  });\n  Object.defineProperty(exports, \"selectTodayBalance\", {\n    enumerable: true,\n    get: function () {\n      return selectTodayBalance;\n    }\n  });\n  var _reduxjsToolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _coreDataStorage = require(_dependencyMap[1], \"../../core/data/storage\");\n  var _coreCommonUtils = require(_dependencyMap[2], \"../../core/common/utils\");\n  var _dateFns = require(_dependencyMap[3], \"date-fns\");\n  // ðŸ’¸ Expense Tracking Redux Slice\n\n  const initialState = {\n    transactions: [],\n    loading: false,\n    filter: 'all'\n  };\n\n  // Async thunks\n  const loadTransactions = (0, _reduxjsToolkit.createAsyncThunk)('expense/loadTransactions', async () => {\n    const transactions = await _coreDataStorage.storageService.getTransactions();\n    return transactions || [];\n  });\n  const addTransaction = (0, _reduxjsToolkit.createAsyncThunk)('expense/addTransaction', async (transaction, {\n    getState\n  }) => {\n    const newTransaction = Object.assign({}, transaction, {\n      id: (0, _coreCommonUtils.generateId)(),\n      createdAt: new Date().toISOString()\n    });\n    const state = getState();\n    const updatedTransactions = [newTransaction, ...state.expense.transactions];\n    await _coreDataStorage.storageService.saveTransactions(updatedTransactions);\n    return newTransaction;\n  });\n  const deleteTransaction = (0, _reduxjsToolkit.createAsyncThunk)('expense/deleteTransaction', async (id, {\n    getState\n  }) => {\n    const state = getState();\n    const updatedTransactions = state.expense.transactions.filter(t => t.id !== id);\n    await _coreDataStorage.storageService.saveTransactions(updatedTransactions);\n    return id;\n  });\n  const expenseSlice = (0, _reduxjsToolkit.createSlice)({\n    name: 'expense',\n    initialState,\n    reducers: {\n      setFilter: (state, action) => {\n        state.filter = action.payload;\n      }\n    },\n    extraReducers: builder => {\n      builder.addCase(loadTransactions.pending, state => {\n        state.loading = true;\n      }).addCase(loadTransactions.fulfilled, (state, action) => {\n        state.transactions = action.payload;\n        state.loading = false;\n      }).addCase(addTransaction.fulfilled, (state, action) => {\n        state.transactions = [action.payload, ...state.transactions];\n      }).addCase(deleteTransaction.fulfilled, (state, action) => {\n        state.transactions = state.transactions.filter(t => t.id !== action.payload);\n      });\n    }\n  });\n  const {\n    setFilter\n  } = expenseSlice.actions;\n\n  // Selectors\n  const selectTodayTransactions = state => {\n    const today = new Date();\n    const todayStart = (0, _dateFns.startOfDay)(today).getTime();\n    const todayEnd = (0, _dateFns.endOfDay)(today).getTime();\n    return state.expense.transactions.filter(t => {\n      const transactionDate = new Date(t.date).getTime();\n      return transactionDate >= todayStart && transactionDate <= todayEnd;\n    });\n  };\n  const selectTodayBalance = state => {\n    const todayTransactions = selectTodayTransactions(state);\n    return todayTransactions.reduce((sum, t) => {\n      return sum + (t.type === 'income' ? t.amount : -t.amount);\n    }, 0);\n  };\n  var _default = expenseSlice.reducer;\n});","lineCount":128,"map":[[7,2,106,0,"Object"],[7,8,106,0],[7,9,106,0,"defineProperty"],[7,23,106,0],[7,24,106,0,"exports"],[7,31,106,0],[8,4,106,0,"enumerable"],[8,14,106,0],[9,4,106,0,"get"],[9,7,106,0],[9,18,106,0,"get"],[9,19,106,0],[10,6,106,0],[10,13,106,0,"_default"],[10,21,106,0],[11,4,106,0],[12,2,106,0],[13,2,21,0,"Object"],[13,8,21,0],[13,9,21,0,"defineProperty"],[13,23,21,0],[13,24,21,0,"exports"],[13,31,21,0],[14,4,21,0,"enumerable"],[14,14,21,0],[15,4,21,0,"get"],[15,7,21,0],[15,18,21,0,"get"],[15,19,21,0],[16,6,21,0],[16,13,21,0,"loadTransactions"],[16,29,21,0],[17,4,21,0],[18,2,21,0],[19,2,29,0,"Object"],[19,8,29,0],[19,9,29,0,"defineProperty"],[19,23,29,0],[19,24,29,0,"exports"],[19,31,29,0],[20,4,29,0,"enumerable"],[20,14,29,0],[21,4,29,0,"get"],[21,7,29,0],[21,18,29,0,"get"],[21,19,29,0],[22,6,29,0],[22,13,29,0,"addTransaction"],[22,27,29,0],[23,4,29,0],[24,2,29,0],[25,2,47,0,"Object"],[25,8,47,0],[25,9,47,0,"defineProperty"],[25,23,47,0],[25,24,47,0,"exports"],[25,31,47,0],[26,4,47,0,"enumerable"],[26,14,47,0],[27,4,47,0,"get"],[27,7,47,0],[27,18,47,0,"get"],[27,19,47,0],[28,6,47,0],[28,13,47,0,"deleteTransaction"],[28,30,47,0],[29,4,47,0],[30,2,47,0],[31,2,85,0,"Object"],[31,8,85,0],[31,9,85,0,"defineProperty"],[31,23,85,0],[31,24,85,0,"exports"],[31,31,85,0],[32,4,85,0,"enumerable"],[32,14,85,0],[33,4,85,0,"get"],[33,7,85,0],[33,18,85,0,"get"],[33,19,85,0],[34,6,85,0],[34,13,85,0,"setFilter"],[34,22,85,0],[35,4,85,0],[36,2,85,0],[37,2,88,0,"Object"],[37,8,88,0],[37,9,88,0,"defineProperty"],[37,23,88,0],[37,24,88,0,"exports"],[37,31,88,0],[38,4,88,0,"enumerable"],[38,14,88,0],[39,4,88,0,"get"],[39,7,88,0],[39,18,88,0,"get"],[39,19,88,0],[40,6,88,0],[40,13,88,0,"selectTodayTransactions"],[40,36,88,0],[41,4,88,0],[42,2,88,0],[43,2,99,0,"Object"],[43,8,99,0],[43,9,99,0,"defineProperty"],[43,23,99,0],[43,24,99,0,"exports"],[43,31,99,0],[44,4,99,0,"enumerable"],[44,14,99,0],[45,4,99,0,"get"],[45,7,99,0],[45,18,99,0,"get"],[45,19,99,0],[46,6,99,0],[46,13,99,0,"selectTodayBalance"],[46,31,99,0],[47,4,99,0],[48,2,99,0],[49,2,2,0],[49,6,2,0,"_reduxjsToolkit"],[49,21,2,0],[49,24,2,0,"require"],[49,31,2,0],[49,32,2,0,"_dependencyMap"],[49,46,2,0],[50,2,4,0],[50,6,4,0,"_coreDataStorage"],[50,22,4,0],[50,25,4,0,"require"],[50,32,4,0],[50,33,4,0,"_dependencyMap"],[50,47,4,0],[51,2,5,0],[51,6,5,0,"_coreCommonUtils"],[51,22,5,0],[51,25,5,0,"require"],[51,32,5,0],[51,33,5,0,"_dependencyMap"],[51,47,5,0],[52,2,6,0],[52,6,6,0,"_dateFns"],[52,14,6,0],[52,17,6,0,"require"],[52,24,6,0],[52,25,6,0,"_dependencyMap"],[52,39,6,0],[53,2,1,0],[55,2,14,0],[55,8,14,6,"initialState"],[55,20,14,32],[55,23,14,35],[56,4,15,2,"transactions"],[56,16,15,14],[56,18,15,16],[56,20,15,18],[57,4,16,2,"loading"],[57,11,16,9],[57,13,16,11],[57,18,16,16],[58,4,17,2,"filter"],[58,10,17,8],[58,12,17,10],[59,2,18,0],[59,3,18,1],[61,2,20,0],[62,2,21,7],[62,8,21,13,"loadTransactions"],[62,24,21,29],[62,27,21,32],[62,31,21,32,"createAsyncThunk"],[62,46,21,48],[62,47,21,48,"createAsyncThunk"],[62,63,21,48],[62,65,22,2],[62,91,22,28],[62,93,23,2],[62,105,23,14],[63,4,24,4],[63,10,24,10,"transactions"],[63,22,24,22],[63,25,24,25],[63,31,24,31,"storageService"],[63,47,24,45],[63,48,24,45,"storageService"],[63,62,24,45],[63,63,24,46,"getTransactions"],[63,78,24,61],[63,79,24,62],[63,80,24,63],[64,4,25,4],[64,11,25,11,"transactions"],[64,23,25,23],[64,27,25,27],[64,29,25,29],[65,2,26,2],[65,3,27,0],[65,4,27,1],[66,2,29,7],[66,8,29,13,"addTransaction"],[66,22,29,27],[66,25,29,30],[66,29,29,30,"createAsyncThunk"],[66,44,29,46],[66,45,29,46,"createAsyncThunk"],[66,61,29,46],[66,63,30,2],[66,87,30,26],[66,89,31,2],[66,96,31,9,"transaction"],[66,107,31,59],[66,109,31,61],[67,4,31,63,"getState"],[68,2,31,72],[68,3,31,73],[68,8,31,78],[69,4,32,4],[69,10,32,10,"newTransaction"],[69,24,32,37],[69,27,32,37,"Object"],[69,33,32,37],[69,34,32,37,"assign"],[69,40,32,37],[69,45,33,9,"transaction"],[69,56,33,20],[70,6,34,6,"id"],[70,8,34,8],[70,10,34,10],[70,14,34,10,"generateId"],[70,30,34,20],[70,31,34,20,"generateId"],[70,41,34,20],[70,43,34,21],[70,44,34,22],[71,6,35,6,"createdAt"],[71,15,35,15],[71,17,35,17],[71,21,35,21,"Date"],[71,25,35,25],[71,26,35,26],[71,27,35,27],[71,28,35,28,"toISOString"],[71,39,35,39],[71,40,35,40],[72,4,35,41],[72,6,36,5],[73,4,38,4],[73,10,38,10,"state"],[73,15,38,15],[73,18,38,18,"getState"],[73,26,38,26],[73,27,38,27],[73,28,38,57],[74,4,39,4],[74,10,39,10,"updatedTransactions"],[74,29,39,29],[74,32,39,32],[74,33,39,33,"newTransaction"],[74,47,39,47],[74,49,39,49],[74,52,39,52,"state"],[74,57,39,57],[74,58,39,58,"expense"],[74,65,39,65],[74,66,39,66,"transactions"],[74,78,39,78],[74,79,39,79],[75,4,41,4],[75,10,41,10,"storageService"],[75,26,41,24],[75,27,41,24,"storageService"],[75,41,41,24],[75,42,41,25,"saveTransactions"],[75,58,41,41],[75,59,41,42,"updatedTransactions"],[75,78,41,61],[75,79,41,62],[76,4,43,4],[76,11,43,11,"newTransaction"],[76,25,43,25],[77,2,44,2],[77,3,45,0],[77,4,45,1],[78,2,47,7],[78,8,47,13,"deleteTransaction"],[78,25,47,30],[78,28,47,33],[78,32,47,33,"createAsyncThunk"],[78,47,47,49],[78,48,47,49,"createAsyncThunk"],[78,64,47,49],[78,66,48,2],[78,93,48,29],[78,95,49,2],[78,102,49,9,"id"],[78,104,49,19],[78,106,49,21],[79,4,49,23,"getState"],[80,2,49,32],[80,3,49,33],[80,8,49,38],[81,4,50,4],[81,10,50,10,"state"],[81,15,50,15],[81,18,50,18,"getState"],[81,26,50,26],[81,27,50,27],[81,28,50,57],[82,4,51,4],[82,10,51,10,"updatedTransactions"],[82,29,51,29],[82,32,51,32,"state"],[82,37,51,37],[82,38,51,38,"expense"],[82,45,51,45],[82,46,51,46,"transactions"],[82,58,51,58],[82,59,51,59,"filter"],[82,65,51,65],[82,66,51,66,"t"],[82,67,51,67],[82,71,51,71,"t"],[82,72,51,72],[82,73,51,73,"id"],[82,75,51,75],[82,80,51,80,"id"],[82,82,51,82],[82,83,51,83],[83,4,53,4],[83,10,53,10,"storageService"],[83,26,53,24],[83,27,53,24,"storageService"],[83,41,53,24],[83,42,53,25,"saveTransactions"],[83,58,53,41],[83,59,53,42,"updatedTransactions"],[83,78,53,61],[83,79,53,62],[84,4,55,4],[84,11,55,11,"id"],[84,13,55,13],[85,2,56,2],[85,3,57,0],[85,4,57,1],[86,2,59,0],[86,8,59,6,"expenseSlice"],[86,20,59,18],[86,23,59,21],[86,27,59,21,"createSlice"],[86,42,59,32],[86,43,59,32,"createSlice"],[86,54,59,32],[86,56,59,33],[87,4,60,2,"name"],[87,8,60,6],[87,10,60,8],[87,19,60,17],[88,4,61,2,"initialState"],[88,16,61,14],[89,4,62,2,"reducers"],[89,12,62,10],[89,14,62,12],[90,6,63,4,"setFilter"],[90,15,63,13],[90,17,63,15,"setFilter"],[90,18,63,16,"state"],[90,23,63,21],[90,25,63,23,"action"],[90,31,63,68],[90,36,63,73],[91,8,64,6,"state"],[91,13,64,11],[91,14,64,12,"filter"],[91,20,64,18],[91,23,64,21,"action"],[91,29,64,27],[91,30,64,28,"payload"],[91,37,64,35],[92,6,65,4],[93,4,66,2],[93,5,66,3],[94,4,67,2,"extraReducers"],[94,17,67,15],[94,19,67,18,"builder"],[94,26,67,25],[94,30,67,30],[95,6,68,4,"builder"],[95,13,68,11],[95,14,69,7,"addCase"],[95,21,69,14],[95,22,69,15,"loadTransactions"],[95,38,69,31],[95,39,69,32,"pending"],[95,46,69,39],[95,48,69,42,"state"],[95,53,69,47],[95,57,69,52],[96,8,70,8,"state"],[96,13,70,13],[96,14,70,14,"loading"],[96,21,70,21],[96,24,70,24],[96,28,70,28],[97,6,71,6],[97,7,71,7],[97,8,71,8],[97,9,72,7,"addCase"],[97,16,72,14],[97,17,72,15,"loadTransactions"],[97,33,72,31],[97,34,72,32,"fulfilled"],[97,43,72,41],[97,45,72,43],[97,46,72,44,"state"],[97,51,72,49],[97,53,72,51,"action"],[97,59,72,57],[97,64,72,62],[98,8,73,8,"state"],[98,13,73,13],[98,14,73,14,"transactions"],[98,26,73,26],[98,29,73,29,"action"],[98,35,73,35],[98,36,73,36,"payload"],[98,43,73,43],[99,8,74,8,"state"],[99,13,74,13],[99,14,74,14,"loading"],[99,21,74,21],[99,24,74,24],[99,29,74,29],[100,6,75,6],[100,7,75,7],[100,8,75,8],[100,9,76,7,"addCase"],[100,16,76,14],[100,17,76,15,"addTransaction"],[100,31,76,29],[100,32,76,30,"fulfilled"],[100,41,76,39],[100,43,76,41],[100,44,76,42,"state"],[100,49,76,47],[100,51,76,49,"action"],[100,57,76,55],[100,62,76,60],[101,8,77,8,"state"],[101,13,77,13],[101,14,77,14,"transactions"],[101,26,77,26],[101,29,77,29],[101,30,77,30,"action"],[101,36,77,36],[101,37,77,37,"payload"],[101,44,77,44],[101,46,77,46],[101,49,77,49,"state"],[101,54,77,54],[101,55,77,55,"transactions"],[101,67,77,67],[101,68,77,68],[102,6,78,6],[102,7,78,7],[102,8,78,8],[102,9,79,7,"addCase"],[102,16,79,14],[102,17,79,15,"deleteTransaction"],[102,34,79,32],[102,35,79,33,"fulfilled"],[102,44,79,42],[102,46,79,44],[102,47,79,45,"state"],[102,52,79,50],[102,54,79,52,"action"],[102,60,79,58],[102,65,79,63],[103,8,80,8,"state"],[103,13,80,13],[103,14,80,14,"transactions"],[103,26,80,26],[103,29,80,29,"state"],[103,34,80,34],[103,35,80,35,"transactions"],[103,47,80,47],[103,48,80,48,"filter"],[103,54,80,54],[103,55,80,55,"t"],[103,56,80,56],[103,60,80,60,"t"],[103,61,80,61],[103,62,80,62,"id"],[103,64,80,64],[103,69,80,69,"action"],[103,75,80,75],[103,76,80,76,"payload"],[103,83,80,83],[103,84,80,84],[104,6,81,6],[104,7,81,7],[104,8,81,8],[105,4,82,2],[106,2,83,0],[106,3,83,1],[106,4,83,2],[107,2,85,7],[107,8,85,13],[108,4,85,15,"setFilter"],[109,2,85,25],[109,3,85,26],[109,6,85,29,"expenseSlice"],[109,18,85,41],[109,19,85,42,"actions"],[109,26,85,49],[111,2,87,0],[112,2,88,7],[112,8,88,13,"selectTodayTransactions"],[112,31,88,36],[112,34,88,40,"state"],[112,39,88,72],[112,43,88,77],[113,4,89,2],[113,10,89,8,"today"],[113,15,89,13],[113,18,89,16],[113,22,89,20,"Date"],[113,26,89,24],[113,27,89,25],[113,28,89,26],[114,4,90,2],[114,10,90,8,"todayStart"],[114,20,90,18],[114,23,90,21],[114,27,90,21,"startOfDay"],[114,35,90,31],[114,36,90,31,"startOfDay"],[114,46,90,31],[114,48,90,32,"today"],[114,53,90,37],[114,54,90,38],[114,55,90,39,"getTime"],[114,62,90,46],[114,63,90,47],[114,64,90,48],[115,4,91,2],[115,10,91,8,"todayEnd"],[115,18,91,16],[115,21,91,19],[115,25,91,19,"endOfDay"],[115,33,91,27],[115,34,91,27,"endOfDay"],[115,42,91,27],[115,44,91,28,"today"],[115,49,91,33],[115,50,91,34],[115,51,91,35,"getTime"],[115,58,91,42],[115,59,91,43],[115,60,91,44],[116,4,93,2],[116,11,93,9,"state"],[116,16,93,14],[116,17,93,15,"expense"],[116,24,93,22],[116,25,93,23,"transactions"],[116,37,93,35],[116,38,93,36,"filter"],[116,44,93,42],[116,45,93,43,"t"],[116,46,93,44],[116,50,93,48],[117,6,94,4],[117,12,94,10,"transactionDate"],[117,27,94,25],[117,30,94,28],[117,34,94,32,"Date"],[117,38,94,36],[117,39,94,37,"t"],[117,40,94,38],[117,41,94,39,"date"],[117,45,94,43],[117,46,94,44],[117,47,94,45,"getTime"],[117,54,94,52],[117,55,94,53],[117,56,94,54],[118,6,95,4],[118,13,95,11,"transactionDate"],[118,28,95,26],[118,32,95,30,"todayStart"],[118,42,95,40],[118,46,95,44,"transactionDate"],[118,61,95,59],[118,65,95,63,"todayEnd"],[118,73,95,71],[119,4,96,2],[119,5,96,3],[119,6,96,4],[120,2,97,0],[120,3,97,1],[121,2,99,7],[121,8,99,13,"selectTodayBalance"],[121,26,99,31],[121,29,99,35,"state"],[121,34,99,67],[121,38,99,72],[122,4,100,2],[122,10,100,8,"todayTransactions"],[122,27,100,25],[122,30,100,28,"selectTodayTransactions"],[122,53,100,51],[122,54,100,52,"state"],[122,59,100,57],[122,60,100,58],[123,4,101,2],[123,11,101,9,"todayTransactions"],[123,28,101,26],[123,29,101,27,"reduce"],[123,35,101,33],[123,36,101,34],[123,37,101,35,"sum"],[123,40,101,38],[123,42,101,40,"t"],[123,43,101,41],[123,48,101,46],[124,6,102,4],[124,13,102,11,"sum"],[124,16,102,14],[124,20,102,18,"t"],[124,21,102,19],[124,22,102,20,"type"],[124,26,102,24],[124,31,102,29],[124,39,102,37],[124,42,102,40,"t"],[124,43,102,41],[124,44,102,42,"amount"],[124,50,102,48],[124,53,102,51],[124,54,102,52,"t"],[124,55,102,53],[124,56,102,54,"amount"],[124,62,102,60],[124,63,102,61],[125,4,103,2],[125,5,103,3],[125,7,103,5],[125,8,103,6],[125,9,103,7],[126,2,104,0],[126,3,104,1],[127,2,106,0],[127,6,106,0,"_default"],[127,14,106,0],[127,17,106,15,"expenseSlice"],[127,29,106,27],[127,30,106,28,"reducer"],[127,37,106,35],[128,0,106,36],[128,3]],"functionMap":{"names":["<global>","createAsyncThunk$argument_1","state.expense.transactions.filter$argument_0","createSlice$argument_0.reducers.setFilter","createSlice$argument_0.extraReducers","builder.addCase$argument_1","builder.addCase.addCase$argument_1","builder.addCase.addCase.addCase$argument_1","builder.addCase.addCase.addCase.addCase$argument_1","state.transactions.filter$argument_0","selectTodayTransactions","selectTodayBalance","todayTransactions.reduce$argument_0"],"mappings":"AAA;ECsB;GDG;ECK;GDa;ECK;kECE,gBD;GDK;eGO;KHE;iBIE;yCCE;ODE;2CEC;OFG;yCGC;OHE;4CIC;uDCC,4BD;OJC;GJC;uCUM;2CRK;GQG;CVC;kCWE;kCCE;GDE;CXC"},"hasCjsExports":false},"type":"js/module"}]}