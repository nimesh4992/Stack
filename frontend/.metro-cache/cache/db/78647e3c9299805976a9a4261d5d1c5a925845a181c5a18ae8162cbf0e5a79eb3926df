{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":29},"end":{"line":2,"column":80,"index":109}}],"key":"54oW2xbJyHE290wIe7uf9enEy7w=","exportNames":["*"],"imports":1}},{"name":"../../core/data/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":164},"end":{"line":4,"column":57,"index":221}}],"key":"LKbs5eRhj6tjbfzVwNzjGvjnujc=","exportNames":["*"],"imports":1}},{"name":"../../core/common/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":222},"end":{"line":5,"column":53,"index":275}}],"key":"/2smbr+GDMmCuGIULHqprsQtHd8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"loadOnboardingStatus\", {\n    enumerable: true,\n    get: function () {\n      return loadOnboardingStatus;\n    }\n  });\n  Object.defineProperty(exports, \"completeOnboarding\", {\n    enumerable: true,\n    get: function () {\n      return completeOnboarding;\n    }\n  });\n  Object.defineProperty(exports, \"setQuizAnswer\", {\n    enumerable: true,\n    get: function () {\n      return setQuizAnswer;\n    }\n  });\n  Object.defineProperty(exports, \"nextStep\", {\n    enumerable: true,\n    get: function () {\n      return nextStep;\n    }\n  });\n  Object.defineProperty(exports, \"prevStep\", {\n    enumerable: true,\n    get: function () {\n      return prevStep;\n    }\n  });\n  Object.defineProperty(exports, \"resetOnboarding\", {\n    enumerable: true,\n    get: function () {\n      return resetOnboarding;\n    }\n  });\n  var _reduxjsToolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _coreDataStorage = require(_dependencyMap[1], \"../../core/data/storage\");\n  var _coreCommonUtils = require(_dependencyMap[2], \"../../core/common/utils\");\n  // ðŸŽ¯ Onboarding Redux Slice\n\n  const initialState = {\n    isComplete: false,\n    userProfile: null,\n    currentStep: 0,\n    quizAnswers: {}\n  };\n\n  // Async thunks\n  const loadOnboardingStatus = (0, _reduxjsToolkit.createAsyncThunk)('onboarding/loadStatus', async () => {\n    const isComplete = await _coreDataStorage.storageService.isOnboardingComplete();\n    const profile = await _coreDataStorage.storageService.getUserProfile();\n    return {\n      isComplete,\n      profile\n    };\n  });\n  const completeOnboarding = (0, _reduxjsToolkit.createAsyncThunk)('onboarding/complete', async (_, {\n    getState\n  }) => {\n    const state = getState();\n    const {\n      quizAnswers\n    } = state.onboarding;\n    const profile = {\n      id: (0, _coreCommonUtils.generateId)(),\n      name: 'User',\n      // Can be collected in a future step\n      personality: quizAnswers.personality,\n      primaryGoal: quizAnswers.goal,\n      monthlyTarget: quizAnswers.target,\n      createdAt: new Date().toISOString()\n    };\n    await _coreDataStorage.storageService.saveUserProfile(profile);\n    await _coreDataStorage.storageService.setOnboardingComplete();\n    return profile;\n  });\n  const onboardingSlice = (0, _reduxjsToolkit.createSlice)({\n    name: 'onboarding',\n    initialState,\n    reducers: {\n      setQuizAnswer: (state, action) => {\n        state.quizAnswers = Object.assign({}, state.quizAnswers, action.payload);\n      },\n      nextStep: state => {\n        state.currentStep += 1;\n      },\n      prevStep: state => {\n        state.currentStep = Math.max(0, state.currentStep - 1);\n      },\n      resetOnboarding: state => {\n        state.currentStep = 0;\n        state.quizAnswers = {};\n      }\n    },\n    extraReducers: builder => {\n      builder.addCase(loadOnboardingStatus.fulfilled, (state, action) => {\n        state.isComplete = action.payload.isComplete;\n        state.userProfile = action.payload.profile;\n      }).addCase(completeOnboarding.fulfilled, (state, action) => {\n        state.isComplete = true;\n        state.userProfile = action.payload;\n      });\n    }\n  });\n  const {\n    setQuizAnswer,\n    nextStep,\n    prevStep,\n    resetOnboarding\n  } = onboardingSlice.actions;\n  var _default = onboardingSlice.reducer;\n});","lineCount":125,"map":[[7,2,89,0,"Object"],[7,8,89,0],[7,9,89,0,"defineProperty"],[7,23,89,0],[7,24,89,0,"exports"],[7,31,89,0],[8,4,89,0,"enumerable"],[8,14,89,0],[9,4,89,0,"get"],[9,7,89,0],[9,18,89,0,"get"],[9,19,89,0],[10,6,89,0],[10,13,89,0,"_default"],[10,21,89,0],[11,4,89,0],[12,2,89,0],[13,2,26,0,"Object"],[13,8,26,0],[13,9,26,0,"defineProperty"],[13,23,26,0],[13,24,26,0,"exports"],[13,31,26,0],[14,4,26,0,"enumerable"],[14,14,26,0],[15,4,26,0,"get"],[15,7,26,0],[15,18,26,0,"get"],[15,19,26,0],[16,6,26,0],[16,13,26,0,"loadOnboardingStatus"],[16,33,26,0],[17,4,26,0],[18,2,26,0],[19,2,35,0,"Object"],[19,8,35,0],[19,9,35,0,"defineProperty"],[19,23,35,0],[19,24,35,0,"exports"],[19,31,35,0],[20,4,35,0,"enumerable"],[20,14,35,0],[21,4,35,0,"get"],[21,7,35,0],[21,18,35,0,"get"],[21,19,35,0],[22,6,35,0],[22,13,35,0,"completeOnboarding"],[22,31,35,0],[23,4,35,0],[24,2,35,0],[25,2,88,0,"Object"],[25,8,88,0],[25,9,88,0,"defineProperty"],[25,23,88,0],[25,24,88,0,"exports"],[25,31,88,0],[26,4,88,0,"enumerable"],[26,14,88,0],[27,4,88,0,"get"],[27,7,88,0],[27,18,88,0,"get"],[27,19,88,0],[28,6,88,0],[28,13,88,0,"setQuizAnswer"],[28,26,88,0],[29,4,88,0],[30,2,88,0],[31,2,88,0,"Object"],[31,8,88,0],[31,9,88,0,"defineProperty"],[31,23,88,0],[31,24,88,0,"exports"],[31,31,88,0],[32,4,88,0,"enumerable"],[32,14,88,0],[33,4,88,0,"get"],[33,7,88,0],[33,18,88,0,"get"],[33,19,88,0],[34,6,88,0],[34,13,88,0,"nextStep"],[34,21,88,0],[35,4,88,0],[36,2,88,0],[37,2,88,0,"Object"],[37,8,88,0],[37,9,88,0,"defineProperty"],[37,23,88,0],[37,24,88,0,"exports"],[37,31,88,0],[38,4,88,0,"enumerable"],[38,14,88,0],[39,4,88,0,"get"],[39,7,88,0],[39,18,88,0,"get"],[39,19,88,0],[40,6,88,0],[40,13,88,0,"prevStep"],[40,21,88,0],[41,4,88,0],[42,2,88,0],[43,2,88,0,"Object"],[43,8,88,0],[43,9,88,0,"defineProperty"],[43,23,88,0],[43,24,88,0,"exports"],[43,31,88,0],[44,4,88,0,"enumerable"],[44,14,88,0],[45,4,88,0,"get"],[45,7,88,0],[45,18,88,0,"get"],[45,19,88,0],[46,6,88,0],[46,13,88,0,"resetOnboarding"],[46,28,88,0],[47,4,88,0],[48,2,88,0],[49,2,2,0],[49,6,2,0,"_reduxjsToolkit"],[49,21,2,0],[49,24,2,0,"require"],[49,31,2,0],[49,32,2,0,"_dependencyMap"],[49,46,2,0],[50,2,4,0],[50,6,4,0,"_coreDataStorage"],[50,22,4,0],[50,25,4,0,"require"],[50,32,4,0],[50,33,4,0,"_dependencyMap"],[50,47,4,0],[51,2,5,0],[51,6,5,0,"_coreCommonUtils"],[51,22,5,0],[51,25,5,0,"require"],[51,32,5,0],[51,33,5,0,"_dependencyMap"],[51,47,5,0],[52,2,1,0],[54,2,18,0],[54,8,18,6,"initialState"],[54,20,18,35],[54,23,18,38],[55,4,19,2,"isComplete"],[55,14,19,12],[55,16,19,14],[55,21,19,19],[56,4,20,2,"userProfile"],[56,15,20,13],[56,17,20,15],[56,21,20,19],[57,4,21,2,"currentStep"],[57,15,21,13],[57,17,21,15],[57,18,21,16],[58,4,22,2,"quizAnswers"],[58,15,22,13],[58,17,22,15],[58,18,22,16],[59,2,23,0],[59,3,23,1],[61,2,25,0],[62,2,26,7],[62,8,26,13,"loadOnboardingStatus"],[62,28,26,33],[62,31,26,36],[62,35,26,36,"createAsyncThunk"],[62,50,26,52],[62,51,26,52,"createAsyncThunk"],[62,67,26,52],[62,69,27,2],[62,92,27,25],[62,94,28,2],[62,106,28,14],[63,4,29,4],[63,10,29,10,"isComplete"],[63,20,29,20],[63,23,29,23],[63,29,29,29,"storageService"],[63,45,29,43],[63,46,29,43,"storageService"],[63,60,29,43],[63,61,29,44,"isOnboardingComplete"],[63,81,29,64],[63,82,29,65],[63,83,29,66],[64,4,30,4],[64,10,30,10,"profile"],[64,17,30,17],[64,20,30,20],[64,26,30,26,"storageService"],[64,42,30,40],[64,43,30,40,"storageService"],[64,57,30,40],[64,58,30,41,"getUserProfile"],[64,72,30,55],[64,73,30,56],[64,74,30,57],[65,4,31,4],[65,11,31,11],[66,6,31,13,"isComplete"],[66,16,31,23],[67,6,31,25,"profile"],[68,4,31,33],[68,5,31,34],[69,2,32,2],[69,3,33,0],[69,4,33,1],[70,2,35,7],[70,8,35,13,"completeOnboarding"],[70,26,35,31],[70,29,35,34],[70,33,35,34,"createAsyncThunk"],[70,48,35,50],[70,49,35,50,"createAsyncThunk"],[70,65,35,50],[70,67,36,2],[70,88,36,23],[70,90,37,2],[70,97,37,9,"_"],[70,98,37,10],[70,100,37,12],[71,4,37,14,"getState"],[72,2,37,23],[72,3,37,24],[72,8,37,29],[73,4,38,4],[73,10,38,10,"state"],[73,15,38,15],[73,18,38,18,"getState"],[73,26,38,26],[73,27,38,27],[73,28,38,63],[74,4,39,4],[74,10,39,10],[75,6,39,12,"quizAnswers"],[76,4,39,24],[76,5,39,25],[76,8,39,28,"state"],[76,13,39,33],[76,14,39,34,"onboarding"],[76,24,39,44],[77,4,41,4],[77,10,41,10,"profile"],[77,17,41,30],[77,20,41,33],[78,6,42,6,"id"],[78,8,42,8],[78,10,42,10],[78,14,42,10,"generateId"],[78,30,42,20],[78,31,42,20,"generateId"],[78,41,42,20],[78,43,42,21],[78,44,42,22],[79,6,43,6,"name"],[79,10,43,10],[79,12,43,12],[79,18,43,18],[80,6,43,20],[81,6,44,6,"personality"],[81,17,44,17],[81,19,44,19,"quizAnswers"],[81,30,44,30],[81,31,44,31,"personality"],[81,42,44,43],[82,6,45,6,"primaryGoal"],[82,17,45,17],[82,19,45,19,"quizAnswers"],[82,30,45,30],[82,31,45,31,"goal"],[82,35,45,36],[83,6,46,6,"monthlyTarget"],[83,19,46,19],[83,21,46,21,"quizAnswers"],[83,32,46,32],[83,33,46,33,"target"],[83,39,46,40],[84,6,47,6,"createdAt"],[84,15,47,15],[84,17,47,17],[84,21,47,21,"Date"],[84,25,47,25],[84,26,47,26],[84,27,47,27],[84,28,47,28,"toISOString"],[84,39,47,39],[84,40,47,40],[85,4,48,4],[85,5,48,5],[86,4,50,4],[86,10,50,10,"storageService"],[86,26,50,24],[86,27,50,24,"storageService"],[86,41,50,24],[86,42,50,25,"saveUserProfile"],[86,57,50,40],[86,58,50,41,"profile"],[86,65,50,48],[86,66,50,49],[87,4,51,4],[87,10,51,10,"storageService"],[87,26,51,24],[87,27,51,24,"storageService"],[87,41,51,24],[87,42,51,25,"setOnboardingComplete"],[87,63,51,46],[87,64,51,47],[87,65,51,48],[88,4,53,4],[88,11,53,11,"profile"],[88,18,53,18],[89,2,54,2],[89,3,55,0],[89,4,55,1],[90,2,57,0],[90,8,57,6,"onboardingSlice"],[90,23,57,21],[90,26,57,24],[90,30,57,24,"createSlice"],[90,45,57,35],[90,46,57,35,"createSlice"],[90,57,57,35],[90,59,57,36],[91,4,58,2,"name"],[91,8,58,6],[91,10,58,8],[91,22,58,20],[92,4,59,2,"initialState"],[92,16,59,14],[93,4,60,2,"reducers"],[93,12,60,10],[93,14,60,12],[94,6,61,4,"setQuizAnswer"],[94,19,61,17],[94,21,61,19,"setQuizAnswer"],[94,22,61,20,"state"],[94,27,61,25],[94,29,61,27,"action"],[94,35,61,89],[94,40,61,94],[95,8,62,6,"state"],[95,13,62,11],[95,14,62,12,"quizAnswers"],[95,25,62,23],[95,28,62,23,"Object"],[95,34,62,23],[95,35,62,23,"assign"],[95,41,62,23],[95,46,62,31,"state"],[95,51,62,36],[95,52,62,37,"quizAnswers"],[95,63,62,48],[95,65,62,53,"action"],[95,71,62,59],[95,72,62,60,"payload"],[95,79,62,67],[95,80,62,69],[96,6,63,4],[96,7,63,5],[97,6,64,4,"nextStep"],[97,14,64,12],[97,16,64,15,"state"],[97,21,64,20],[97,25,64,25],[98,8,65,6,"state"],[98,13,65,11],[98,14,65,12,"currentStep"],[98,25,65,23],[98,29,65,27],[98,30,65,28],[99,6,66,4],[99,7,66,5],[100,6,67,4,"prevStep"],[100,14,67,12],[100,16,67,15,"state"],[100,21,67,20],[100,25,67,25],[101,8,68,6,"state"],[101,13,68,11],[101,14,68,12,"currentStep"],[101,25,68,23],[101,28,68,26,"Math"],[101,32,68,30],[101,33,68,31,"max"],[101,36,68,34],[101,37,68,35],[101,38,68,36],[101,40,68,38,"state"],[101,45,68,43],[101,46,68,44,"currentStep"],[101,57,68,55],[101,60,68,58],[101,61,68,59],[101,62,68,60],[102,6,69,4],[102,7,69,5],[103,6,70,4,"resetOnboarding"],[103,21,70,19],[103,23,70,22,"state"],[103,28,70,27],[103,32,70,32],[104,8,71,6,"state"],[104,13,71,11],[104,14,71,12,"currentStep"],[104,25,71,23],[104,28,71,26],[104,29,71,27],[105,8,72,6,"state"],[105,13,72,11],[105,14,72,12,"quizAnswers"],[105,25,72,23],[105,28,72,26],[105,29,72,27],[105,30,72,28],[106,6,73,4],[107,4,74,2],[107,5,74,3],[108,4,75,2,"extraReducers"],[108,17,75,15],[108,19,75,18,"builder"],[108,26,75,25],[108,30,75,30],[109,6,76,4,"builder"],[109,13,76,11],[109,14,77,7,"addCase"],[109,21,77,14],[109,22,77,15,"loadOnboardingStatus"],[109,42,77,35],[109,43,77,36,"fulfilled"],[109,52,77,45],[109,54,77,47],[109,55,77,48,"state"],[109,60,77,53],[109,62,77,55,"action"],[109,68,77,61],[109,73,77,66],[110,8,78,8,"state"],[110,13,78,13],[110,14,78,14,"isComplete"],[110,24,78,24],[110,27,78,27,"action"],[110,33,78,33],[110,34,78,34,"payload"],[110,41,78,41],[110,42,78,42,"isComplete"],[110,52,78,52],[111,8,79,8,"state"],[111,13,79,13],[111,14,79,14,"userProfile"],[111,25,79,25],[111,28,79,28,"action"],[111,34,79,34],[111,35,79,35,"payload"],[111,42,79,42],[111,43,79,43,"profile"],[111,50,79,50],[112,6,80,6],[112,7,80,7],[112,8,80,8],[112,9,81,7,"addCase"],[112,16,81,14],[112,17,81,15,"completeOnboarding"],[112,35,81,33],[112,36,81,34,"fulfilled"],[112,45,81,43],[112,47,81,45],[112,48,81,46,"state"],[112,53,81,51],[112,55,81,53,"action"],[112,61,81,59],[112,66,81,64],[113,8,82,8,"state"],[113,13,82,13],[113,14,82,14,"isComplete"],[113,24,82,24],[113,27,82,27],[113,31,82,31],[114,8,83,8,"state"],[114,13,83,13],[114,14,83,14,"userProfile"],[114,25,83,25],[114,28,83,28,"action"],[114,34,83,34],[114,35,83,35,"payload"],[114,42,83,42],[115,6,84,6],[115,7,84,7],[115,8,84,8],[116,4,85,2],[117,2,86,0],[117,3,86,1],[117,4,86,2],[118,2,88,7],[118,8,88,13],[119,4,88,15,"setQuizAnswer"],[119,17,88,28],[120,4,88,30,"nextStep"],[120,12,88,38],[121,4,88,40,"prevStep"],[121,12,88,48],[122,4,88,50,"resetOnboarding"],[123,2,88,66],[123,3,88,67],[123,6,88,70,"onboardingSlice"],[123,21,88,85],[123,22,88,86,"actions"],[123,29,88,93],[124,2,89,0],[124,6,89,0,"_default"],[124,14,89,0],[124,17,89,15,"onboardingSlice"],[124,32,89,30],[124,33,89,31,"reducer"],[124,40,89,38],[125,0,89,39],[125,3]],"functionMap":{"names":["<global>","createAsyncThunk$argument_1","createSlice$argument_0.reducers.setQuizAnswer","createSlice$argument_0.reducers.nextStep","createSlice$argument_0.reducers.prevStep","createSlice$argument_0.reducers.resetOnboarding","createSlice$argument_0.extraReducers","builder.addCase$argument_1","builder.addCase.addCase$argument_1"],"mappings":"AAA;EC2B;GDI;ECK;GDiB;mBEO;KFE;cGC;KHE;cIC;KJE;qBKC;KLG;iBME;+CCE;ODG;6CEC;OFG;GNC"},"hasCjsExports":false},"type":"js/module"}]}