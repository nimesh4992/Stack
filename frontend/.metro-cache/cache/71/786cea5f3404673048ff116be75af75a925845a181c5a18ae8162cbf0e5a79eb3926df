{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":29},"end":{"line":2,"column":80,"index":109}}],"key":"54oW2xbJyHE290wIe7uf9enEy7w=","exportNames":["*"],"imports":1}},{"name":"../../core/data/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":164},"end":{"line":4,"column":57,"index":221}}],"key":"LKbs5eRhj6tjbfzVwNzjGvjnujc=","exportNames":["*"],"imports":1}},{"name":"../../core/common/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":222},"end":{"line":5,"column":53,"index":275}}],"key":"/2smbr+GDMmCuGIULHqprsQtHd8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"loadOnboardingStatus\", {\n    enumerable: true,\n    get: function () {\n      return loadOnboardingStatus;\n    }\n  });\n  Object.defineProperty(exports, \"completeOnboarding\", {\n    enumerable: true,\n    get: function () {\n      return completeOnboarding;\n    }\n  });\n  Object.defineProperty(exports, \"setQuizAnswer\", {\n    enumerable: true,\n    get: function () {\n      return setQuizAnswer;\n    }\n  });\n  Object.defineProperty(exports, \"nextStep\", {\n    enumerable: true,\n    get: function () {\n      return nextStep;\n    }\n  });\n  Object.defineProperty(exports, \"prevStep\", {\n    enumerable: true,\n    get: function () {\n      return prevStep;\n    }\n  });\n  Object.defineProperty(exports, \"resetOnboarding\", {\n    enumerable: true,\n    get: function () {\n      return resetOnboarding;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reduxjsToolkit = require(_dependencyMap[1], \"@reduxjs/toolkit\");\n  var _coreDataStorage = require(_dependencyMap[2], \"../../core/data/storage\");\n  var _coreCommonUtils = require(_dependencyMap[3], \"../../core/common/utils\");\n  // ðŸŽ¯ Onboarding Redux Slice\n\n  var initialState = {\n    isComplete: false,\n    userProfile: null,\n    currentStep: 0,\n    quizAnswers: {}\n  };\n\n  // Async thunks\n  var loadOnboardingStatus = (0, _reduxjsToolkit.createAsyncThunk)('onboarding/loadStatus', /*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n    var isComplete = yield _coreDataStorage.storageService.isOnboardingComplete();\n    var profile = yield _coreDataStorage.storageService.getUserProfile();\n    return {\n      isComplete,\n      profile\n    };\n  }));\n  var completeOnboarding = (0, _reduxjsToolkit.createAsyncThunk)('onboarding/complete', /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator.default)(function* (_, _ref2) {\n      var getState = _ref2.getState;\n      var state = getState();\n      var quizAnswers = state.onboarding.quizAnswers;\n      var profile = {\n        id: (0, _coreCommonUtils.generateId)(),\n        name: 'User',\n        // Can be collected in a future step\n        personality: quizAnswers.personality,\n        primaryGoal: quizAnswers.goal,\n        monthlyTarget: quizAnswers.target,\n        createdAt: new Date().toISOString()\n      };\n      yield _coreDataStorage.storageService.saveUserProfile(profile);\n      yield _coreDataStorage.storageService.setOnboardingComplete();\n      return profile;\n    });\n    return function (_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  var onboardingSlice = (0, _reduxjsToolkit.createSlice)({\n    name: 'onboarding',\n    initialState,\n    reducers: {\n      setQuizAnswer: (state, action) => {\n        state.quizAnswers = {\n          ...state.quizAnswers,\n          ...action.payload\n        };\n      },\n      nextStep: state => {\n        state.currentStep += 1;\n      },\n      prevStep: state => {\n        state.currentStep = Math.max(0, state.currentStep - 1);\n      },\n      resetOnboarding: state => {\n        state.currentStep = 0;\n        state.quizAnswers = {};\n      }\n    },\n    extraReducers: builder => {\n      builder.addCase(loadOnboardingStatus.fulfilled, (state, action) => {\n        state.isComplete = action.payload.isComplete;\n        state.userProfile = action.payload.profile;\n      }).addCase(completeOnboarding.fulfilled, (state, action) => {\n        state.isComplete = true;\n        state.userProfile = action.payload;\n      });\n    }\n  });\n  var _onboardingSlice$acti = onboardingSlice.actions,\n    setQuizAnswer = _onboardingSlice$acti.setQuizAnswer,\n    nextStep = _onboardingSlice$acti.nextStep,\n    prevStep = _onboardingSlice$acti.prevStep,\n    resetOnboarding = _onboardingSlice$acti.resetOnboarding;\n  var _default = onboardingSlice.reducer;\n});","lineCount":136,"map":[[12,2,89,0,"Object"],[12,8,89,0],[12,9,89,0,"defineProperty"],[12,23,89,0],[12,24,89,0,"exports"],[12,31,89,0],[13,4,89,0,"enumerable"],[13,14,89,0],[14,4,89,0,"get"],[14,7,89,0],[14,18,89,0,"get"],[14,19,89,0],[15,6,89,0],[15,13,89,0,"_default"],[15,21,89,0],[16,4,89,0],[17,2,89,0],[18,2,26,0,"Object"],[18,8,26,0],[18,9,26,0,"defineProperty"],[18,23,26,0],[18,24,26,0,"exports"],[18,31,26,0],[19,4,26,0,"enumerable"],[19,14,26,0],[20,4,26,0,"get"],[20,7,26,0],[20,18,26,0,"get"],[20,19,26,0],[21,6,26,0],[21,13,26,0,"loadOnboardingStatus"],[21,33,26,0],[22,4,26,0],[23,2,26,0],[24,2,35,0,"Object"],[24,8,35,0],[24,9,35,0,"defineProperty"],[24,23,35,0],[24,24,35,0,"exports"],[24,31,35,0],[25,4,35,0,"enumerable"],[25,14,35,0],[26,4,35,0,"get"],[26,7,35,0],[26,18,35,0,"get"],[26,19,35,0],[27,6,35,0],[27,13,35,0,"completeOnboarding"],[27,31,35,0],[28,4,35,0],[29,2,35,0],[30,2,55,2,"Object"],[30,8,55,2],[30,9,55,2,"defineProperty"],[30,23,55,2],[30,24,55,2,"exports"],[30,31,55,2],[31,4,55,2,"enumerable"],[31,14,55,2],[32,4,55,2,"get"],[32,7,55,2],[32,18,55,2,"get"],[32,19,55,2],[33,6,55,2],[33,13,55,2,"setQuizAnswer"],[33,26,55,2],[34,4,55,2],[35,2,55,2],[36,2,55,2,"Object"],[36,8,55,2],[36,9,55,2,"defineProperty"],[36,23,55,2],[36,24,55,2,"exports"],[36,31,55,2],[37,4,55,2,"enumerable"],[37,14,55,2],[38,4,55,2,"get"],[38,7,55,2],[38,18,55,2,"get"],[38,19,55,2],[39,6,55,2],[39,13,55,2,"nextStep"],[39,21,55,2],[40,4,55,2],[41,2,55,2],[42,2,55,2,"Object"],[42,8,55,2],[42,9,55,2,"defineProperty"],[42,23,55,2],[42,24,55,2,"exports"],[42,31,55,2],[43,4,55,2,"enumerable"],[43,14,55,2],[44,4,55,2,"get"],[44,7,55,2],[44,18,55,2,"get"],[44,19,55,2],[45,6,55,2],[45,13,55,2,"prevStep"],[45,21,55,2],[46,4,55,2],[47,2,55,2],[48,2,55,2,"Object"],[48,8,55,2],[48,9,55,2,"defineProperty"],[48,23,55,2],[48,24,55,2,"exports"],[48,31,55,2],[49,4,55,2,"enumerable"],[49,14,55,2],[50,4,55,2,"get"],[50,7,55,2],[50,18,55,2,"get"],[50,19,55,2],[51,6,55,2],[51,13,55,2,"resetOnboarding"],[51,28,55,2],[52,4,55,2],[53,2,55,2],[54,2,55,2],[54,6,55,2,"_babelRuntimeHelpersAsyncToGenerator"],[54,42,55,2],[54,45,55,2,"require"],[54,52,55,2],[54,53,55,2,"_dependencyMap"],[54,67,55,2],[55,2,55,2],[55,6,55,2,"_asyncToGenerator"],[55,23,55,2],[55,26,55,2,"_interopDefault"],[55,41,55,2],[55,42,55,2,"_babelRuntimeHelpersAsyncToGenerator"],[55,78,55,2],[56,2,2,0],[56,6,2,0,"_reduxjsToolkit"],[56,21,2,0],[56,24,2,0,"require"],[56,31,2,0],[56,32,2,0,"_dependencyMap"],[56,46,2,0],[57,2,4,0],[57,6,4,0,"_coreDataStorage"],[57,22,4,0],[57,25,4,0,"require"],[57,32,4,0],[57,33,4,0,"_dependencyMap"],[57,47,4,0],[58,2,5,0],[58,6,5,0,"_coreCommonUtils"],[58,22,5,0],[58,25,5,0,"require"],[58,32,5,0],[58,33,5,0,"_dependencyMap"],[58,47,5,0],[59,2,1,0],[61,2,18,0],[61,6,18,6,"initialState"],[61,18,18,35],[61,21,18,38],[62,4,19,2,"isComplete"],[62,14,19,12],[62,16,19,14],[62,21,19,19],[63,4,20,2,"userProfile"],[63,15,20,13],[63,17,20,15],[63,21,20,19],[64,4,21,2,"currentStep"],[64,15,21,13],[64,17,21,15],[64,18,21,16],[65,4,22,2,"quizAnswers"],[65,15,22,13],[65,17,22,15],[65,18,22,16],[66,2,23,0],[66,3,23,1],[68,2,25,0],[69,2,26,7],[69,6,26,13,"loadOnboardingStatus"],[69,26,26,33],[69,29,26,36],[69,33,26,36,"createAsyncThunk"],[69,48,26,52],[69,49,26,52,"createAsyncThunk"],[69,65,26,52],[69,67,27,2],[69,90,27,25],[69,109,27,25,"_asyncToGenerator"],[69,126,27,25],[69,127,27,25,"default"],[69,134,27,25],[69,136,28,2],[69,149,28,14],[70,4,29,4],[70,8,29,10,"isComplete"],[70,18,29,20],[70,27,29,29,"storageService"],[70,43,29,43],[70,44,29,43,"storageService"],[70,58,29,43],[70,59,29,44,"isOnboardingComplete"],[70,79,29,64],[70,80,29,65],[70,81,29,66],[71,4,30,4],[71,8,30,10,"profile"],[71,15,30,17],[71,24,30,26,"storageService"],[71,40,30,40],[71,41,30,40,"storageService"],[71,55,30,40],[71,56,30,41,"getUserProfile"],[71,70,30,55],[71,71,30,56],[71,72,30,57],[72,4,31,4],[72,11,31,11],[73,6,31,13,"isComplete"],[73,16,31,23],[74,6,31,25,"profile"],[75,4,31,33],[75,5,31,34],[76,2,32,2],[76,3,32,3],[76,4,33,0],[76,5,33,1],[77,2,35,7],[77,6,35,13,"completeOnboarding"],[77,24,35,31],[77,27,35,34],[77,31,35,34,"createAsyncThunk"],[77,46,35,50],[77,47,35,50,"createAsyncThunk"],[77,63,35,50],[77,65,36,2],[77,86,36,23],[78,4,36,23],[78,8,36,23,"_ref3"],[78,13,36,23],[78,20,36,23,"_asyncToGenerator"],[78,37,36,23],[78,38,36,23,"default"],[78,45,36,23],[78,47,37,2],[78,58,37,9,"_"],[78,59,37,10],[78,61,37,10,"_ref2"],[78,66,37,10],[78,68,37,29],[79,6,37,29],[79,10,37,14,"getState"],[79,18,37,22],[79,21,37,22,"_ref2"],[79,26,37,22],[79,27,37,14,"getState"],[79,35,37,22],[80,6,38,4],[80,10,38,10,"state"],[80,15,38,15],[80,18,38,18,"getState"],[80,26,38,26],[80,27,38,27],[80,28,38,63],[81,6,39,4],[81,10,39,12,"quizAnswers"],[81,21,39,23],[81,24,39,28,"state"],[81,29,39,33],[81,30,39,34,"onboarding"],[81,40,39,44],[81,41,39,12,"quizAnswers"],[81,52,39,23],[82,6,41,4],[82,10,41,10,"profile"],[82,17,41,30],[82,20,41,33],[83,8,42,6,"id"],[83,10,42,8],[83,12,42,10],[83,16,42,10,"generateId"],[83,32,42,20],[83,33,42,20,"generateId"],[83,43,42,20],[83,45,42,21],[83,46,42,22],[84,8,43,6,"name"],[84,12,43,10],[84,14,43,12],[84,20,43,18],[85,8,43,20],[86,8,44,6,"personality"],[86,19,44,17],[86,21,44,19,"quizAnswers"],[86,32,44,30],[86,33,44,31,"personality"],[86,44,44,43],[87,8,45,6,"primaryGoal"],[87,19,45,17],[87,21,45,19,"quizAnswers"],[87,32,45,30],[87,33,45,31,"goal"],[87,37,45,36],[88,8,46,6,"monthlyTarget"],[88,21,46,19],[88,23,46,21,"quizAnswers"],[88,34,46,32],[88,35,46,33,"target"],[88,41,46,40],[89,8,47,6,"createdAt"],[89,17,47,15],[89,19,47,17],[89,23,47,21,"Date"],[89,27,47,25],[89,28,47,26],[89,29,47,27],[89,30,47,28,"toISOString"],[89,41,47,39],[89,42,47,40],[90,6,48,4],[90,7,48,5],[91,6,50,4],[91,12,50,10,"storageService"],[91,28,50,24],[91,29,50,24,"storageService"],[91,43,50,24],[91,44,50,25,"saveUserProfile"],[91,59,50,40],[91,60,50,41,"profile"],[91,67,50,48],[91,68,50,49],[92,6,51,4],[92,12,51,10,"storageService"],[92,28,51,24],[92,29,51,24,"storageService"],[92,43,51,24],[92,44,51,25,"setOnboardingComplete"],[92,65,51,46],[92,66,51,47],[92,67,51,48],[93,6,53,4],[93,13,53,11,"profile"],[93,20,53,18],[94,4,54,2],[94,5,54,3],[95,4,54,3],[95,21,54,3,"_x"],[95,23,54,3],[95,25,54,3,"_x2"],[95,28,54,3],[96,6,54,3],[96,13,54,3,"_ref3"],[96,18,54,3],[96,19,54,3,"apply"],[96,24,54,3],[96,31,54,3,"arguments"],[96,40,54,3],[97,4,54,3],[98,2,54,3],[98,5,55,0],[98,6,55,1],[99,2,57,0],[99,6,57,6,"onboardingSlice"],[99,21,57,21],[99,24,57,24],[99,28,57,24,"createSlice"],[99,43,57,35],[99,44,57,35,"createSlice"],[99,55,57,35],[99,57,57,36],[100,4,58,2,"name"],[100,8,58,6],[100,10,58,8],[100,22,58,20],[101,4,59,2,"initialState"],[101,16,59,14],[102,4,60,2,"reducers"],[102,12,60,10],[102,14,60,12],[103,6,61,4,"setQuizAnswer"],[103,19,61,17],[103,21,61,19,"setQuizAnswer"],[103,22,61,20,"state"],[103,27,61,25],[103,29,61,27,"action"],[103,35,61,89],[103,40,61,94],[104,8,62,6,"state"],[104,13,62,11],[104,14,62,12,"quizAnswers"],[104,25,62,23],[104,28,62,26],[105,10,62,28],[105,13,62,31,"state"],[105,18,62,36],[105,19,62,37,"quizAnswers"],[105,30,62,48],[106,10,62,50],[106,13,62,53,"action"],[106,19,62,59],[106,20,62,60,"payload"],[107,8,62,68],[107,9,62,69],[108,6,63,4],[108,7,63,5],[109,6,64,4,"nextStep"],[109,14,64,12],[109,16,64,15,"state"],[109,21,64,20],[109,25,64,25],[110,8,65,6,"state"],[110,13,65,11],[110,14,65,12,"currentStep"],[110,25,65,23],[110,29,65,27],[110,30,65,28],[111,6,66,4],[111,7,66,5],[112,6,67,4,"prevStep"],[112,14,67,12],[112,16,67,15,"state"],[112,21,67,20],[112,25,67,25],[113,8,68,6,"state"],[113,13,68,11],[113,14,68,12,"currentStep"],[113,25,68,23],[113,28,68,26,"Math"],[113,32,68,30],[113,33,68,31,"max"],[113,36,68,34],[113,37,68,35],[113,38,68,36],[113,40,68,38,"state"],[113,45,68,43],[113,46,68,44,"currentStep"],[113,57,68,55],[113,60,68,58],[113,61,68,59],[113,62,68,60],[114,6,69,4],[114,7,69,5],[115,6,70,4,"resetOnboarding"],[115,21,70,19],[115,23,70,22,"state"],[115,28,70,27],[115,32,70,32],[116,8,71,6,"state"],[116,13,71,11],[116,14,71,12,"currentStep"],[116,25,71,23],[116,28,71,26],[116,29,71,27],[117,8,72,6,"state"],[117,13,72,11],[117,14,72,12,"quizAnswers"],[117,25,72,23],[117,28,72,26],[117,29,72,27],[117,30,72,28],[118,6,73,4],[119,4,74,2],[119,5,74,3],[120,4,75,2,"extraReducers"],[120,17,75,15],[120,19,75,18,"builder"],[120,26,75,25],[120,30,75,30],[121,6,76,4,"builder"],[121,13,76,11],[121,14,77,7,"addCase"],[121,21,77,14],[121,22,77,15,"loadOnboardingStatus"],[121,42,77,35],[121,43,77,36,"fulfilled"],[121,52,77,45],[121,54,77,47],[121,55,77,48,"state"],[121,60,77,53],[121,62,77,55,"action"],[121,68,77,61],[121,73,77,66],[122,8,78,8,"state"],[122,13,78,13],[122,14,78,14,"isComplete"],[122,24,78,24],[122,27,78,27,"action"],[122,33,78,33],[122,34,78,34,"payload"],[122,41,78,41],[122,42,78,42,"isComplete"],[122,52,78,52],[123,8,79,8,"state"],[123,13,79,13],[123,14,79,14,"userProfile"],[123,25,79,25],[123,28,79,28,"action"],[123,34,79,34],[123,35,79,35,"payload"],[123,42,79,42],[123,43,79,43,"profile"],[123,50,79,50],[124,6,80,6],[124,7,80,7],[124,8,80,8],[124,9,81,7,"addCase"],[124,16,81,14],[124,17,81,15,"completeOnboarding"],[124,35,81,33],[124,36,81,34,"fulfilled"],[124,45,81,43],[124,47,81,45],[124,48,81,46,"state"],[124,53,81,51],[124,55,81,53,"action"],[124,61,81,59],[124,66,81,64],[125,8,82,8,"state"],[125,13,82,13],[125,14,82,14,"isComplete"],[125,24,82,24],[125,27,82,27],[125,31,82,31],[126,8,83,8,"state"],[126,13,83,13],[126,14,83,14,"userProfile"],[126,25,83,25],[126,28,83,28,"action"],[126,34,83,34],[126,35,83,35,"payload"],[126,42,83,42],[127,6,84,6],[127,7,84,7],[127,8,84,8],[128,4,85,2],[129,2,86,0],[129,3,86,1],[129,4,86,2],[130,2,88,7],[130,6,88,7,"_onboardingSlice$acti"],[130,27,88,7],[130,30,88,70,"onboardingSlice"],[130,45,88,85],[130,46,88,86,"actions"],[130,53,88,93],[131,4,88,15,"setQuizAnswer"],[131,17,88,28],[131,20,88,28,"_onboardingSlice$acti"],[131,41,88,28],[131,42,88,15,"setQuizAnswer"],[131,55,88,28],[132,4,88,30,"nextStep"],[132,12,88,38],[132,15,88,38,"_onboardingSlice$acti"],[132,36,88,38],[132,37,88,30,"nextStep"],[132,45,88,38],[133,4,88,40,"prevStep"],[133,12,88,48],[133,15,88,48,"_onboardingSlice$acti"],[133,36,88,48],[133,37,88,40,"prevStep"],[133,45,88,48],[134,4,88,50,"resetOnboarding"],[134,19,88,65],[134,22,88,65,"_onboardingSlice$acti"],[134,43,88,65],[134,44,88,50,"resetOnboarding"],[134,59,88,65],[135,2,89,0],[135,6,89,0,"_default"],[135,14,89,0],[135,17,89,15,"onboardingSlice"],[135,32,89,30],[135,33,89,31,"reducer"],[135,40,89,38],[136,0,89,39],[136,3]],"functionMap":{"names":["<global>","createAsyncThunk$argument_1","createSlice$argument_0.reducers.setQuizAnswer","createSlice$argument_0.reducers.nextStep","createSlice$argument_0.reducers.prevStep","createSlice$argument_0.reducers.resetOnboarding","createSlice$argument_0.extraReducers","builder.addCase$argument_1","builder.addCase.addCase$argument_1"],"mappings":"AAA;EC2B;GDI;ECK;GDiB;mBEO;KFE;cGC;KHE;cIC;KJE;qBKC;KLG;iBME;+CCE;ODG;6CEC;OFG;GNC"},"hasCjsExports":false},"type":"js/module"}]}