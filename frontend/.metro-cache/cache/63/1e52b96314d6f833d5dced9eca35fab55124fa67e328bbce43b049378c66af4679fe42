{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":80,"index":115}}],"key":"54oW2xbJyHE290wIe7uf9enEy7w=","exportNames":["*"],"imports":1}},{"name":"../../core/data/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":170},"end":{"line":4,"column":57,"index":227}}],"key":"LKbs5eRhj6tjbfzVwNzjGvjnujc=","exportNames":["*"],"imports":1}},{"name":"../../core/common/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":228},"end":{"line":5,"column":53,"index":281}}],"key":"/2smbr+GDMmCuGIULHqprsQtHd8=","exportNames":["*"],"imports":1}},{"name":"date-fns","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":282},"end":{"line":6,"column":48,"index":330}}],"key":"ebLIABIqb+DSfRpTozlXmEt3BvY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"loadTransactions\", {\n    enumerable: true,\n    get: function () {\n      return loadTransactions;\n    }\n  });\n  Object.defineProperty(exports, \"addTransaction\", {\n    enumerable: true,\n    get: function () {\n      return addTransaction;\n    }\n  });\n  Object.defineProperty(exports, \"deleteTransaction\", {\n    enumerable: true,\n    get: function () {\n      return deleteTransaction;\n    }\n  });\n  Object.defineProperty(exports, \"setFilter\", {\n    enumerable: true,\n    get: function () {\n      return setFilter;\n    }\n  });\n  Object.defineProperty(exports, \"selectTodayTransactions\", {\n    enumerable: true,\n    get: function () {\n      return selectTodayTransactions;\n    }\n  });\n  Object.defineProperty(exports, \"selectTodayBalance\", {\n    enumerable: true,\n    get: function () {\n      return selectTodayBalance;\n    }\n  });\n  var _reduxjsToolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _coreDataStorage = require(_dependencyMap[1], \"../../core/data/storage\");\n  var _coreCommonUtils = require(_dependencyMap[2], \"../../core/common/utils\");\n  var _dateFns = require(_dependencyMap[3], \"date-fns\");\n  // ðŸ’¸ Expense Tracking Redux Slice\n\n  const initialState = {\n    transactions: [],\n    loading: false,\n    filter: 'all'\n  };\n\n  // Async thunks\n  const loadTransactions = (0, _reduxjsToolkit.createAsyncThunk)('expense/loadTransactions', async () => {\n    const transactions = await _coreDataStorage.storageService.getTransactions();\n    return transactions || [];\n  });\n  const addTransaction = (0, _reduxjsToolkit.createAsyncThunk)('expense/addTransaction', async (transaction, {\n    getState\n  }) => {\n    const newTransaction = {\n      ...transaction,\n      id: (0, _coreCommonUtils.generateId)(),\n      createdAt: new Date().toISOString()\n    };\n    const state = getState();\n    const updatedTransactions = [newTransaction, ...state.expense.transactions];\n    await _coreDataStorage.storageService.saveTransactions(updatedTransactions);\n    return newTransaction;\n  });\n  const deleteTransaction = (0, _reduxjsToolkit.createAsyncThunk)('expense/deleteTransaction', async (id, {\n    getState\n  }) => {\n    const state = getState();\n    const updatedTransactions = state.expense.transactions.filter(t => t.id !== id);\n    await _coreDataStorage.storageService.saveTransactions(updatedTransactions);\n    return id;\n  });\n  const expenseSlice = (0, _reduxjsToolkit.createSlice)({\n    name: 'expense',\n    initialState,\n    reducers: {\n      setFilter: (state, action) => {\n        state.filter = action.payload;\n      }\n    },\n    extraReducers: builder => {\n      builder.addCase(loadTransactions.pending, state => {\n        state.loading = true;\n      }).addCase(loadTransactions.fulfilled, (state, action) => {\n        state.transactions = action.payload;\n        state.loading = false;\n      }).addCase(addTransaction.fulfilled, (state, action) => {\n        state.transactions = [action.payload, ...state.transactions];\n      }).addCase(deleteTransaction.fulfilled, (state, action) => {\n        state.transactions = state.transactions.filter(t => t.id !== action.payload);\n      });\n    }\n  });\n  const {\n    setFilter\n  } = expenseSlice.actions;\n\n  // Selectors\n  const selectTodayTransactions = state => {\n    const today = new Date();\n    const todayStart = (0, _dateFns.startOfDay)(today).getTime();\n    const todayEnd = (0, _dateFns.endOfDay)(today).getTime();\n    return state.expense.transactions.filter(t => {\n      const transactionDate = new Date(t.date).getTime();\n      return transactionDate >= todayStart && transactionDate <= todayEnd;\n    });\n  };\n  const selectTodayBalance = state => {\n    const todayTransactions = selectTodayTransactions(state);\n    return todayTransactions.reduce((sum, t) => {\n      return sum + (t.type === 'income' ? t.amount : -t.amount);\n    }, 0);\n  };\n  var _default = expenseSlice.reducer;\n});","lineCount":129,"map":[[7,2,106,0,"Object"],[7,8,106,0],[7,9,106,0,"defineProperty"],[7,23,106,0],[7,24,106,0,"exports"],[7,31,106,0],[8,4,106,0,"enumerable"],[8,14,106,0],[9,4,106,0,"get"],[9,7,106,0],[9,18,106,0,"get"],[9,19,106,0],[10,6,106,0],[10,13,106,0,"_default"],[10,21,106,0],[11,4,106,0],[12,2,106,0],[13,2,21,0,"Object"],[13,8,21,0],[13,9,21,0,"defineProperty"],[13,23,21,0],[13,24,21,0,"exports"],[13,31,21,0],[14,4,21,0,"enumerable"],[14,14,21,0],[15,4,21,0,"get"],[15,7,21,0],[15,18,21,0,"get"],[15,19,21,0],[16,6,21,0],[16,13,21,0,"loadTransactions"],[16,29,21,0],[17,4,21,0],[18,2,21,0],[19,2,29,0,"Object"],[19,8,29,0],[19,9,29,0,"defineProperty"],[19,23,29,0],[19,24,29,0,"exports"],[19,31,29,0],[20,4,29,0,"enumerable"],[20,14,29,0],[21,4,29,0,"get"],[21,7,29,0],[21,18,29,0,"get"],[21,19,29,0],[22,6,29,0],[22,13,29,0,"addTransaction"],[22,27,29,0],[23,4,29,0],[24,2,29,0],[25,2,47,0,"Object"],[25,8,47,0],[25,9,47,0,"defineProperty"],[25,23,47,0],[25,24,47,0,"exports"],[25,31,47,0],[26,4,47,0,"enumerable"],[26,14,47,0],[27,4,47,0,"get"],[27,7,47,0],[27,18,47,0,"get"],[27,19,47,0],[28,6,47,0],[28,13,47,0,"deleteTransaction"],[28,30,47,0],[29,4,47,0],[30,2,47,0],[31,2,85,0,"Object"],[31,8,85,0],[31,9,85,0,"defineProperty"],[31,23,85,0],[31,24,85,0,"exports"],[31,31,85,0],[32,4,85,0,"enumerable"],[32,14,85,0],[33,4,85,0,"get"],[33,7,85,0],[33,18,85,0,"get"],[33,19,85,0],[34,6,85,0],[34,13,85,0,"setFilter"],[34,22,85,0],[35,4,85,0],[36,2,85,0],[37,2,88,0,"Object"],[37,8,88,0],[37,9,88,0,"defineProperty"],[37,23,88,0],[37,24,88,0,"exports"],[37,31,88,0],[38,4,88,0,"enumerable"],[38,14,88,0],[39,4,88,0,"get"],[39,7,88,0],[39,18,88,0,"get"],[39,19,88,0],[40,6,88,0],[40,13,88,0,"selectTodayTransactions"],[40,36,88,0],[41,4,88,0],[42,2,88,0],[43,2,99,0,"Object"],[43,8,99,0],[43,9,99,0,"defineProperty"],[43,23,99,0],[43,24,99,0,"exports"],[43,31,99,0],[44,4,99,0,"enumerable"],[44,14,99,0],[45,4,99,0,"get"],[45,7,99,0],[45,18,99,0,"get"],[45,19,99,0],[46,6,99,0],[46,13,99,0,"selectTodayBalance"],[46,31,99,0],[47,4,99,0],[48,2,99,0],[49,2,2,0],[49,6,2,0,"_reduxjsToolkit"],[49,21,2,0],[49,24,2,0,"require"],[49,31,2,0],[49,32,2,0,"_dependencyMap"],[49,46,2,0],[50,2,4,0],[50,6,4,0,"_coreDataStorage"],[50,22,4,0],[50,25,4,0,"require"],[50,32,4,0],[50,33,4,0,"_dependencyMap"],[50,47,4,0],[51,2,5,0],[51,6,5,0,"_coreCommonUtils"],[51,22,5,0],[51,25,5,0,"require"],[51,32,5,0],[51,33,5,0,"_dependencyMap"],[51,47,5,0],[52,2,6,0],[52,6,6,0,"_dateFns"],[52,14,6,0],[52,17,6,0,"require"],[52,24,6,0],[52,25,6,0,"_dependencyMap"],[52,39,6,0],[53,2,1,0],[55,2,14,0],[55,8,14,6,"initialState"],[55,20,14,32],[55,23,14,35],[56,4,15,2,"transactions"],[56,16,15,14],[56,18,15,16],[56,20,15,18],[57,4,16,2,"loading"],[57,11,16,9],[57,13,16,11],[57,18,16,16],[58,4,17,2,"filter"],[58,10,17,8],[58,12,17,10],[59,2,18,0],[59,3,18,1],[61,2,20,0],[62,2,21,7],[62,8,21,13,"loadTransactions"],[62,24,21,29],[62,27,21,32],[62,31,21,32,"createAsyncThunk"],[62,46,21,48],[62,47,21,48,"createAsyncThunk"],[62,63,21,48],[62,65,22,2],[62,91,22,28],[62,93,23,2],[62,105,23,14],[63,4,24,4],[63,10,24,10,"transactions"],[63,22,24,22],[63,25,24,25],[63,31,24,31,"storageService"],[63,47,24,45],[63,48,24,45,"storageService"],[63,62,24,45],[63,63,24,46,"getTransactions"],[63,78,24,61],[63,79,24,62],[63,80,24,63],[64,4,25,4],[64,11,25,11,"transactions"],[64,23,25,23],[64,27,25,27],[64,29,25,29],[65,2,26,2],[65,3,27,0],[65,4,27,1],[66,2,29,7],[66,8,29,13,"addTransaction"],[66,22,29,27],[66,25,29,30],[66,29,29,30,"createAsyncThunk"],[66,44,29,46],[66,45,29,46,"createAsyncThunk"],[66,61,29,46],[66,63,30,2],[66,87,30,26],[66,89,31,2],[66,96,31,9,"transaction"],[66,107,31,59],[66,109,31,61],[67,4,31,63,"getState"],[68,2,31,72],[68,3,31,73],[68,8,31,78],[69,4,32,4],[69,10,32,10,"newTransaction"],[69,24,32,37],[69,27,32,40],[70,6,33,6],[70,9,33,9,"transaction"],[70,20,33,20],[71,6,34,6,"id"],[71,8,34,8],[71,10,34,10],[71,14,34,10,"generateId"],[71,30,34,20],[71,31,34,20,"generateId"],[71,41,34,20],[71,43,34,21],[71,44,34,22],[72,6,35,6,"createdAt"],[72,15,35,15],[72,17,35,17],[72,21,35,21,"Date"],[72,25,35,25],[72,26,35,26],[72,27,35,27],[72,28,35,28,"toISOString"],[72,39,35,39],[72,40,35,40],[73,4,36,4],[73,5,36,5],[74,4,38,4],[74,10,38,10,"state"],[74,15,38,15],[74,18,38,18,"getState"],[74,26,38,26],[74,27,38,27],[74,28,38,57],[75,4,39,4],[75,10,39,10,"updatedTransactions"],[75,29,39,29],[75,32,39,32],[75,33,39,33,"newTransaction"],[75,47,39,47],[75,49,39,49],[75,52,39,52,"state"],[75,57,39,57],[75,58,39,58,"expense"],[75,65,39,65],[75,66,39,66,"transactions"],[75,78,39,78],[75,79,39,79],[76,4,41,4],[76,10,41,10,"storageService"],[76,26,41,24],[76,27,41,24,"storageService"],[76,41,41,24],[76,42,41,25,"saveTransactions"],[76,58,41,41],[76,59,41,42,"updatedTransactions"],[76,78,41,61],[76,79,41,62],[77,4,43,4],[77,11,43,11,"newTransaction"],[77,25,43,25],[78,2,44,2],[78,3,45,0],[78,4,45,1],[79,2,47,7],[79,8,47,13,"deleteTransaction"],[79,25,47,30],[79,28,47,33],[79,32,47,33,"createAsyncThunk"],[79,47,47,49],[79,48,47,49,"createAsyncThunk"],[79,64,47,49],[79,66,48,2],[79,93,48,29],[79,95,49,2],[79,102,49,9,"id"],[79,104,49,19],[79,106,49,21],[80,4,49,23,"getState"],[81,2,49,32],[81,3,49,33],[81,8,49,38],[82,4,50,4],[82,10,50,10,"state"],[82,15,50,15],[82,18,50,18,"getState"],[82,26,50,26],[82,27,50,27],[82,28,50,57],[83,4,51,4],[83,10,51,10,"updatedTransactions"],[83,29,51,29],[83,32,51,32,"state"],[83,37,51,37],[83,38,51,38,"expense"],[83,45,51,45],[83,46,51,46,"transactions"],[83,58,51,58],[83,59,51,59,"filter"],[83,65,51,65],[83,66,51,66,"t"],[83,67,51,67],[83,71,51,71,"t"],[83,72,51,72],[83,73,51,73,"id"],[83,75,51,75],[83,80,51,80,"id"],[83,82,51,82],[83,83,51,83],[84,4,53,4],[84,10,53,10,"storageService"],[84,26,53,24],[84,27,53,24,"storageService"],[84,41,53,24],[84,42,53,25,"saveTransactions"],[84,58,53,41],[84,59,53,42,"updatedTransactions"],[84,78,53,61],[84,79,53,62],[85,4,55,4],[85,11,55,11,"id"],[85,13,55,13],[86,2,56,2],[86,3,57,0],[86,4,57,1],[87,2,59,0],[87,8,59,6,"expenseSlice"],[87,20,59,18],[87,23,59,21],[87,27,59,21,"createSlice"],[87,42,59,32],[87,43,59,32,"createSlice"],[87,54,59,32],[87,56,59,33],[88,4,60,2,"name"],[88,8,60,6],[88,10,60,8],[88,19,60,17],[89,4,61,2,"initialState"],[89,16,61,14],[90,4,62,2,"reducers"],[90,12,62,10],[90,14,62,12],[91,6,63,4,"setFilter"],[91,15,63,13],[91,17,63,15,"setFilter"],[91,18,63,16,"state"],[91,23,63,21],[91,25,63,23,"action"],[91,31,63,68],[91,36,63,73],[92,8,64,6,"state"],[92,13,64,11],[92,14,64,12,"filter"],[92,20,64,18],[92,23,64,21,"action"],[92,29,64,27],[92,30,64,28,"payload"],[92,37,64,35],[93,6,65,4],[94,4,66,2],[94,5,66,3],[95,4,67,2,"extraReducers"],[95,17,67,15],[95,19,67,18,"builder"],[95,26,67,25],[95,30,67,30],[96,6,68,4,"builder"],[96,13,68,11],[96,14,69,7,"addCase"],[96,21,69,14],[96,22,69,15,"loadTransactions"],[96,38,69,31],[96,39,69,32,"pending"],[96,46,69,39],[96,48,69,42,"state"],[96,53,69,47],[96,57,69,52],[97,8,70,8,"state"],[97,13,70,13],[97,14,70,14,"loading"],[97,21,70,21],[97,24,70,24],[97,28,70,28],[98,6,71,6],[98,7,71,7],[98,8,71,8],[98,9,72,7,"addCase"],[98,16,72,14],[98,17,72,15,"loadTransactions"],[98,33,72,31],[98,34,72,32,"fulfilled"],[98,43,72,41],[98,45,72,43],[98,46,72,44,"state"],[98,51,72,49],[98,53,72,51,"action"],[98,59,72,57],[98,64,72,62],[99,8,73,8,"state"],[99,13,73,13],[99,14,73,14,"transactions"],[99,26,73,26],[99,29,73,29,"action"],[99,35,73,35],[99,36,73,36,"payload"],[99,43,73,43],[100,8,74,8,"state"],[100,13,74,13],[100,14,74,14,"loading"],[100,21,74,21],[100,24,74,24],[100,29,74,29],[101,6,75,6],[101,7,75,7],[101,8,75,8],[101,9,76,7,"addCase"],[101,16,76,14],[101,17,76,15,"addTransaction"],[101,31,76,29],[101,32,76,30,"fulfilled"],[101,41,76,39],[101,43,76,41],[101,44,76,42,"state"],[101,49,76,47],[101,51,76,49,"action"],[101,57,76,55],[101,62,76,60],[102,8,77,8,"state"],[102,13,77,13],[102,14,77,14,"transactions"],[102,26,77,26],[102,29,77,29],[102,30,77,30,"action"],[102,36,77,36],[102,37,77,37,"payload"],[102,44,77,44],[102,46,77,46],[102,49,77,49,"state"],[102,54,77,54],[102,55,77,55,"transactions"],[102,67,77,67],[102,68,77,68],[103,6,78,6],[103,7,78,7],[103,8,78,8],[103,9,79,7,"addCase"],[103,16,79,14],[103,17,79,15,"deleteTransaction"],[103,34,79,32],[103,35,79,33,"fulfilled"],[103,44,79,42],[103,46,79,44],[103,47,79,45,"state"],[103,52,79,50],[103,54,79,52,"action"],[103,60,79,58],[103,65,79,63],[104,8,80,8,"state"],[104,13,80,13],[104,14,80,14,"transactions"],[104,26,80,26],[104,29,80,29,"state"],[104,34,80,34],[104,35,80,35,"transactions"],[104,47,80,47],[104,48,80,48,"filter"],[104,54,80,54],[104,55,80,55,"t"],[104,56,80,56],[104,60,80,60,"t"],[104,61,80,61],[104,62,80,62,"id"],[104,64,80,64],[104,69,80,69,"action"],[104,75,80,75],[104,76,80,76,"payload"],[104,83,80,83],[104,84,80,84],[105,6,81,6],[105,7,81,7],[105,8,81,8],[106,4,82,2],[107,2,83,0],[107,3,83,1],[107,4,83,2],[108,2,85,7],[108,8,85,13],[109,4,85,15,"setFilter"],[110,2,85,25],[110,3,85,26],[110,6,85,29,"expenseSlice"],[110,18,85,41],[110,19,85,42,"actions"],[110,26,85,49],[112,2,87,0],[113,2,88,7],[113,8,88,13,"selectTodayTransactions"],[113,31,88,36],[113,34,88,40,"state"],[113,39,88,72],[113,43,88,77],[114,4,89,2],[114,10,89,8,"today"],[114,15,89,13],[114,18,89,16],[114,22,89,20,"Date"],[114,26,89,24],[114,27,89,25],[114,28,89,26],[115,4,90,2],[115,10,90,8,"todayStart"],[115,20,90,18],[115,23,90,21],[115,27,90,21,"startOfDay"],[115,35,90,31],[115,36,90,31,"startOfDay"],[115,46,90,31],[115,48,90,32,"today"],[115,53,90,37],[115,54,90,38],[115,55,90,39,"getTime"],[115,62,90,46],[115,63,90,47],[115,64,90,48],[116,4,91,2],[116,10,91,8,"todayEnd"],[116,18,91,16],[116,21,91,19],[116,25,91,19,"endOfDay"],[116,33,91,27],[116,34,91,27,"endOfDay"],[116,42,91,27],[116,44,91,28,"today"],[116,49,91,33],[116,50,91,34],[116,51,91,35,"getTime"],[116,58,91,42],[116,59,91,43],[116,60,91,44],[117,4,93,2],[117,11,93,9,"state"],[117,16,93,14],[117,17,93,15,"expense"],[117,24,93,22],[117,25,93,23,"transactions"],[117,37,93,35],[117,38,93,36,"filter"],[117,44,93,42],[117,45,93,43,"t"],[117,46,93,44],[117,50,93,48],[118,6,94,4],[118,12,94,10,"transactionDate"],[118,27,94,25],[118,30,94,28],[118,34,94,32,"Date"],[118,38,94,36],[118,39,94,37,"t"],[118,40,94,38],[118,41,94,39,"date"],[118,45,94,43],[118,46,94,44],[118,47,94,45,"getTime"],[118,54,94,52],[118,55,94,53],[118,56,94,54],[119,6,95,4],[119,13,95,11,"transactionDate"],[119,28,95,26],[119,32,95,30,"todayStart"],[119,42,95,40],[119,46,95,44,"transactionDate"],[119,61,95,59],[119,65,95,63,"todayEnd"],[119,73,95,71],[120,4,96,2],[120,5,96,3],[120,6,96,4],[121,2,97,0],[121,3,97,1],[122,2,99,7],[122,8,99,13,"selectTodayBalance"],[122,26,99,31],[122,29,99,35,"state"],[122,34,99,67],[122,38,99,72],[123,4,100,2],[123,10,100,8,"todayTransactions"],[123,27,100,25],[123,30,100,28,"selectTodayTransactions"],[123,53,100,51],[123,54,100,52,"state"],[123,59,100,57],[123,60,100,58],[124,4,101,2],[124,11,101,9,"todayTransactions"],[124,28,101,26],[124,29,101,27,"reduce"],[124,35,101,33],[124,36,101,34],[124,37,101,35,"sum"],[124,40,101,38],[124,42,101,40,"t"],[124,43,101,41],[124,48,101,46],[125,6,102,4],[125,13,102,11,"sum"],[125,16,102,14],[125,20,102,18,"t"],[125,21,102,19],[125,22,102,20,"type"],[125,26,102,24],[125,31,102,29],[125,39,102,37],[125,42,102,40,"t"],[125,43,102,41],[125,44,102,42,"amount"],[125,50,102,48],[125,53,102,51],[125,54,102,52,"t"],[125,55,102,53],[125,56,102,54,"amount"],[125,62,102,60],[125,63,102,61],[126,4,103,2],[126,5,103,3],[126,7,103,5],[126,8,103,6],[126,9,103,7],[127,2,104,0],[127,3,104,1],[128,2,106,0],[128,6,106,0,"_default"],[128,14,106,0],[128,17,106,15,"expenseSlice"],[128,29,106,27],[128,30,106,28,"reducer"],[128,37,106,35],[129,0,106,36],[129,3]],"functionMap":{"names":["<global>","createAsyncThunk$argument_1","state.expense.transactions.filter$argument_0","createSlice$argument_0.reducers.setFilter","createSlice$argument_0.extraReducers","builder.addCase$argument_1","builder.addCase.addCase$argument_1","builder.addCase.addCase.addCase$argument_1","builder.addCase.addCase.addCase.addCase$argument_1","state.transactions.filter$argument_0","selectTodayTransactions","selectTodayBalance","todayTransactions.reduce$argument_0"],"mappings":"AAA;ECsB;GDG;ECK;GDa;ECK;kECE,gBD;GDK;eGO;KHE;iBIE;yCCE;ODE;2CEC;OFG;yCGC;OHE;4CIC;uDCC,4BD;OJC;GJC;uCUM;2CRK;GQG;CVC;kCWE;kCCE;GDE;CXC"},"hasCjsExports":false},"type":"js/module"}]}